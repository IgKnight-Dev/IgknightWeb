{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/abhis/OneDrive/Desktop/IgKnightWeb/IgKnightWeb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { DisposableStore, isDisposable } from '../../../../base/common/lifecycle.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Range } from '../../../common/core/range.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class Link {\n  constructor(link, provider) {\n    this._link = link;\n    this._provider = provider;\n  }\n  toJSON() {\n    return {\n      range: this.range,\n      url: this.url,\n      tooltip: this.tooltip\n    };\n  }\n  get range() {\n    return this._link.range;\n  }\n  get url() {\n    return this._link.url;\n  }\n  get tooltip() {\n    return this._link.tooltip;\n  }\n  resolve(token) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this._link.url) {\n        return _this._link.url;\n      }\n      if (typeof _this._provider.resolveLink === 'function') {\n        return Promise.resolve(_this._provider.resolveLink(_this._link, token)).then(value => {\n          _this._link = value || _this._link;\n          if (_this._link.url) {\n            // recurse\n            return _this.resolve(token);\n          }\n          return Promise.reject(new Error('missing'));\n        });\n      }\n      return Promise.reject(new Error('missing'));\n    })();\n  }\n}\nexport class LinksList {\n  constructor(tuples) {\n    this._disposables = new DisposableStore();\n    let links = [];\n    for (const [list, provider] of tuples) {\n      // merge all links\n      const newLinks = list.links.map(link => new Link(link, provider));\n      links = LinksList._union(links, newLinks);\n      // register disposables\n      if (isDisposable(list)) {\n        this._disposables.add(list);\n      }\n    }\n    this.links = links;\n  }\n  dispose() {\n    this._disposables.dispose();\n    this.links.length = 0;\n  }\n  static _union(oldLinks, newLinks) {\n    // reunite oldLinks with newLinks and remove duplicates\n    const result = [];\n    let oldIndex;\n    let oldLen;\n    let newIndex;\n    let newLen;\n    for (oldIndex = 0, newIndex = 0, oldLen = oldLinks.length, newLen = newLinks.length; oldIndex < oldLen && newIndex < newLen;) {\n      const oldLink = oldLinks[oldIndex];\n      const newLink = newLinks[newIndex];\n      if (Range.areIntersectingOrTouching(oldLink.range, newLink.range)) {\n        // Remove the oldLink\n        oldIndex++;\n        continue;\n      }\n      const comparisonResult = Range.compareRangesUsingStarts(oldLink.range, newLink.range);\n      if (comparisonResult < 0) {\n        // oldLink is before\n        result.push(oldLink);\n        oldIndex++;\n      } else {\n        // newLink is before\n        result.push(newLink);\n        newIndex++;\n      }\n    }\n    for (; oldIndex < oldLen; oldIndex++) {\n      result.push(oldLinks[oldIndex]);\n    }\n    for (; newIndex < newLen; newIndex++) {\n      result.push(newLinks[newIndex]);\n    }\n    return result;\n  }\n}\nexport function getLinks(providers, model, token) {\n  const lists = [];\n  // ask all providers for links in parallel\n  const promises = providers.ordered(model).reverse().map((provider, i) => {\n    return Promise.resolve(provider.provideLinks(model, token)).then(result => {\n      if (result) {\n        lists[i] = [result, provider];\n      }\n    }, onUnexpectedExternalError);\n  });\n  return Promise.all(promises).then(() => {\n    const result = new LinksList(coalesce(lists));\n    if (!token.isCancellationRequested) {\n      return result;\n    }\n    result.dispose();\n    return new LinksList([]);\n  });\n}\nCommandsRegistry.registerCommand('_executeLinkProvider', /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (accessor, ...args) {\n    let [uri, resolveCount] = args;\n    assertType(uri instanceof URI);\n    if (typeof resolveCount !== 'number') {\n      resolveCount = 0;\n    }\n    const {\n      linkProvider\n    } = accessor.get(ILanguageFeaturesService);\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n      return [];\n    }\n    const list = yield getLinks(linkProvider, model, CancellationToken.None);\n    if (!list) {\n      return [];\n    }\n    // resolve links\n    for (let i = 0; i < Math.min(resolveCount, list.links.length); i++) {\n      yield list.links[i].resolve(CancellationToken.None);\n    }\n    const result = list.links.slice(0);\n    list.dispose();\n    return result;\n  });\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}());","map":{"version":3,"names":["coalesce","CancellationToken","onUnexpectedExternalError","DisposableStore","isDisposable","assertType","URI","Range","IModelService","CommandsRegistry","ILanguageFeaturesService","Link","constructor","link","provider","_link","_provider","toJSON","range","url","tooltip","resolve","token","_this","_asyncToGenerator","resolveLink","Promise","then","value","reject","Error","LinksList","tuples","_disposables","links","list","newLinks","map","_union","add","dispose","length","oldLinks","result","oldIndex","oldLen","newIndex","newLen","oldLink","newLink","areIntersectingOrTouching","comparisonResult","compareRangesUsingStarts","push","getLinks","providers","model","lists","promises","ordered","reverse","i","provideLinks","all","isCancellationRequested","registerCommand","_ref","accessor","args","uri","resolveCount","linkProvider","get","getModel","None","Math","min","slice","_x","apply","arguments"],"sources":["C:/Users/abhis/OneDrive/Desktop/IgKnightWeb/IgKnightWeb/node_modules/monaco-editor/esm/vs/editor/contrib/links/browser/getLinks.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { DisposableStore, isDisposable } from '../../../../base/common/lifecycle.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Range } from '../../../common/core/range.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class Link {\n    constructor(link, provider) {\n        this._link = link;\n        this._provider = provider;\n    }\n    toJSON() {\n        return {\n            range: this.range,\n            url: this.url,\n            tooltip: this.tooltip\n        };\n    }\n    get range() {\n        return this._link.range;\n    }\n    get url() {\n        return this._link.url;\n    }\n    get tooltip() {\n        return this._link.tooltip;\n    }\n    async resolve(token) {\n        if (this._link.url) {\n            return this._link.url;\n        }\n        if (typeof this._provider.resolveLink === 'function') {\n            return Promise.resolve(this._provider.resolveLink(this._link, token)).then(value => {\n                this._link = value || this._link;\n                if (this._link.url) {\n                    // recurse\n                    return this.resolve(token);\n                }\n                return Promise.reject(new Error('missing'));\n            });\n        }\n        return Promise.reject(new Error('missing'));\n    }\n}\nexport class LinksList {\n    constructor(tuples) {\n        this._disposables = new DisposableStore();\n        let links = [];\n        for (const [list, provider] of tuples) {\n            // merge all links\n            const newLinks = list.links.map(link => new Link(link, provider));\n            links = LinksList._union(links, newLinks);\n            // register disposables\n            if (isDisposable(list)) {\n                this._disposables.add(list);\n            }\n        }\n        this.links = links;\n    }\n    dispose() {\n        this._disposables.dispose();\n        this.links.length = 0;\n    }\n    static _union(oldLinks, newLinks) {\n        // reunite oldLinks with newLinks and remove duplicates\n        const result = [];\n        let oldIndex;\n        let oldLen;\n        let newIndex;\n        let newLen;\n        for (oldIndex = 0, newIndex = 0, oldLen = oldLinks.length, newLen = newLinks.length; oldIndex < oldLen && newIndex < newLen;) {\n            const oldLink = oldLinks[oldIndex];\n            const newLink = newLinks[newIndex];\n            if (Range.areIntersectingOrTouching(oldLink.range, newLink.range)) {\n                // Remove the oldLink\n                oldIndex++;\n                continue;\n            }\n            const comparisonResult = Range.compareRangesUsingStarts(oldLink.range, newLink.range);\n            if (comparisonResult < 0) {\n                // oldLink is before\n                result.push(oldLink);\n                oldIndex++;\n            }\n            else {\n                // newLink is before\n                result.push(newLink);\n                newIndex++;\n            }\n        }\n        for (; oldIndex < oldLen; oldIndex++) {\n            result.push(oldLinks[oldIndex]);\n        }\n        for (; newIndex < newLen; newIndex++) {\n            result.push(newLinks[newIndex]);\n        }\n        return result;\n    }\n}\nexport function getLinks(providers, model, token) {\n    const lists = [];\n    // ask all providers for links in parallel\n    const promises = providers.ordered(model).reverse().map((provider, i) => {\n        return Promise.resolve(provider.provideLinks(model, token)).then(result => {\n            if (result) {\n                lists[i] = [result, provider];\n            }\n        }, onUnexpectedExternalError);\n    });\n    return Promise.all(promises).then(() => {\n        const result = new LinksList(coalesce(lists));\n        if (!token.isCancellationRequested) {\n            return result;\n        }\n        result.dispose();\n        return new LinksList([]);\n    });\n}\nCommandsRegistry.registerCommand('_executeLinkProvider', async (accessor, ...args) => {\n    let [uri, resolveCount] = args;\n    assertType(uri instanceof URI);\n    if (typeof resolveCount !== 'number') {\n        resolveCount = 0;\n    }\n    const { linkProvider } = accessor.get(ILanguageFeaturesService);\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        return [];\n    }\n    const list = await getLinks(linkProvider, model, CancellationToken.None);\n    if (!list) {\n        return [];\n    }\n    // resolve links\n    for (let i = 0; i < Math.min(resolveCount, list.links.length); i++) {\n        await list.links[i].resolve(CancellationToken.None);\n    }\n    const result = list.links.slice(0);\n    list.dispose();\n    return result;\n});\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA,SAASA,QAAQ,QAAQ,mCAAmC;AAC5D,SAASC,iBAAiB,QAAQ,yCAAyC;AAC3E,SAASC,yBAAyB,QAAQ,mCAAmC;AAC7E,SAASC,eAAe,EAAEC,YAAY,QAAQ,sCAAsC;AACpF,SAASC,UAAU,QAAQ,kCAAkC;AAC7D,SAASC,GAAG,QAAQ,gCAAgC;AACpD,SAASC,KAAK,QAAQ,+BAA+B;AACrD,SAASC,aAAa,QAAQ,mCAAmC;AACjE,SAASC,gBAAgB,QAAQ,kDAAkD;AACnF,SAASC,wBAAwB,QAAQ,8CAA8C;AACvF,OAAO,MAAMC,IAAI,CAAC;EACdC,WAAWA,CAACC,IAAI,EAAEC,QAAQ,EAAE;IACxB,IAAI,CAACC,KAAK,GAAGF,IAAI;IACjB,IAAI,CAACG,SAAS,GAAGF,QAAQ;EAC7B;EACAG,MAAMA,CAAA,EAAG;IACL,OAAO;MACHC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,GAAG,EAAE,IAAI,CAACA,GAAG;MACbC,OAAO,EAAE,IAAI,CAACA;IAClB,CAAC;EACL;EACA,IAAIF,KAAKA,CAAA,EAAG;IACR,OAAO,IAAI,CAACH,KAAK,CAACG,KAAK;EAC3B;EACA,IAAIC,GAAGA,CAAA,EAAG;IACN,OAAO,IAAI,CAACJ,KAAK,CAACI,GAAG;EACzB;EACA,IAAIC,OAAOA,CAAA,EAAG;IACV,OAAO,IAAI,CAACL,KAAK,CAACK,OAAO;EAC7B;EACMC,OAAOA,CAACC,KAAK,EAAE;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACjB,IAAID,KAAI,CAACR,KAAK,CAACI,GAAG,EAAE;QAChB,OAAOI,KAAI,CAACR,KAAK,CAACI,GAAG;MACzB;MACA,IAAI,OAAOI,KAAI,CAACP,SAAS,CAACS,WAAW,KAAK,UAAU,EAAE;QAClD,OAAOC,OAAO,CAACL,OAAO,CAACE,KAAI,CAACP,SAAS,CAACS,WAAW,CAACF,KAAI,CAACR,KAAK,EAAEO,KAAK,CAAC,CAAC,CAACK,IAAI,CAACC,KAAK,IAAI;UAChFL,KAAI,CAACR,KAAK,GAAGa,KAAK,IAAIL,KAAI,CAACR,KAAK;UAChC,IAAIQ,KAAI,CAACR,KAAK,CAACI,GAAG,EAAE;YAChB;YACA,OAAOI,KAAI,CAACF,OAAO,CAACC,KAAK,CAAC;UAC9B;UACA,OAAOI,OAAO,CAACG,MAAM,CAAC,IAAIC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC/C,CAAC,CAAC;MACN;MACA,OAAOJ,OAAO,CAACG,MAAM,CAAC,IAAIC,KAAK,CAAC,SAAS,CAAC,CAAC;IAAC;EAChD;AACJ;AACA,OAAO,MAAMC,SAAS,CAAC;EACnBnB,WAAWA,CAACoB,MAAM,EAAE;IAChB,IAAI,CAACC,YAAY,GAAG,IAAI9B,eAAe,CAAC,CAAC;IACzC,IAAI+B,KAAK,GAAG,EAAE;IACd,KAAK,MAAM,CAACC,IAAI,EAAErB,QAAQ,CAAC,IAAIkB,MAAM,EAAE;MACnC;MACA,MAAMI,QAAQ,GAAGD,IAAI,CAACD,KAAK,CAACG,GAAG,CAACxB,IAAI,IAAI,IAAIF,IAAI,CAACE,IAAI,EAAEC,QAAQ,CAAC,CAAC;MACjEoB,KAAK,GAAGH,SAAS,CAACO,MAAM,CAACJ,KAAK,EAAEE,QAAQ,CAAC;MACzC;MACA,IAAIhC,YAAY,CAAC+B,IAAI,CAAC,EAAE;QACpB,IAAI,CAACF,YAAY,CAACM,GAAG,CAACJ,IAAI,CAAC;MAC/B;IACJ;IACA,IAAI,CAACD,KAAK,GAAGA,KAAK;EACtB;EACAM,OAAOA,CAAA,EAAG;IACN,IAAI,CAACP,YAAY,CAACO,OAAO,CAAC,CAAC;IAC3B,IAAI,CAACN,KAAK,CAACO,MAAM,GAAG,CAAC;EACzB;EACA,OAAOH,MAAMA,CAACI,QAAQ,EAAEN,QAAQ,EAAE;IAC9B;IACA,MAAMO,MAAM,GAAG,EAAE;IACjB,IAAIC,QAAQ;IACZ,IAAIC,MAAM;IACV,IAAIC,QAAQ;IACZ,IAAIC,MAAM;IACV,KAAKH,QAAQ,GAAG,CAAC,EAAEE,QAAQ,GAAG,CAAC,EAAED,MAAM,GAAGH,QAAQ,CAACD,MAAM,EAAEM,MAAM,GAAGX,QAAQ,CAACK,MAAM,EAAEG,QAAQ,GAAGC,MAAM,IAAIC,QAAQ,GAAGC,MAAM,GAAG;MAC1H,MAAMC,OAAO,GAAGN,QAAQ,CAACE,QAAQ,CAAC;MAClC,MAAMK,OAAO,GAAGb,QAAQ,CAACU,QAAQ,CAAC;MAClC,IAAIvC,KAAK,CAAC2C,yBAAyB,CAACF,OAAO,CAAC9B,KAAK,EAAE+B,OAAO,CAAC/B,KAAK,CAAC,EAAE;QAC/D;QACA0B,QAAQ,EAAE;QACV;MACJ;MACA,MAAMO,gBAAgB,GAAG5C,KAAK,CAAC6C,wBAAwB,CAACJ,OAAO,CAAC9B,KAAK,EAAE+B,OAAO,CAAC/B,KAAK,CAAC;MACrF,IAAIiC,gBAAgB,GAAG,CAAC,EAAE;QACtB;QACAR,MAAM,CAACU,IAAI,CAACL,OAAO,CAAC;QACpBJ,QAAQ,EAAE;MACd,CAAC,MACI;QACD;QACAD,MAAM,CAACU,IAAI,CAACJ,OAAO,CAAC;QACpBH,QAAQ,EAAE;MACd;IACJ;IACA,OAAOF,QAAQ,GAAGC,MAAM,EAAED,QAAQ,EAAE,EAAE;MAClCD,MAAM,CAACU,IAAI,CAACX,QAAQ,CAACE,QAAQ,CAAC,CAAC;IACnC;IACA,OAAOE,QAAQ,GAAGC,MAAM,EAAED,QAAQ,EAAE,EAAE;MAClCH,MAAM,CAACU,IAAI,CAACjB,QAAQ,CAACU,QAAQ,CAAC,CAAC;IACnC;IACA,OAAOH,MAAM;EACjB;AACJ;AACA,OAAO,SAASW,QAAQA,CAACC,SAAS,EAAEC,KAAK,EAAElC,KAAK,EAAE;EAC9C,MAAMmC,KAAK,GAAG,EAAE;EAChB;EACA,MAAMC,QAAQ,GAAGH,SAAS,CAACI,OAAO,CAACH,KAAK,CAAC,CAACI,OAAO,CAAC,CAAC,CAACvB,GAAG,CAAC,CAACvB,QAAQ,EAAE+C,CAAC,KAAK;IACrE,OAAOnC,OAAO,CAACL,OAAO,CAACP,QAAQ,CAACgD,YAAY,CAACN,KAAK,EAAElC,KAAK,CAAC,CAAC,CAACK,IAAI,CAACgB,MAAM,IAAI;MACvE,IAAIA,MAAM,EAAE;QACRc,KAAK,CAACI,CAAC,CAAC,GAAG,CAAClB,MAAM,EAAE7B,QAAQ,CAAC;MACjC;IACJ,CAAC,EAAEZ,yBAAyB,CAAC;EACjC,CAAC,CAAC;EACF,OAAOwB,OAAO,CAACqC,GAAG,CAACL,QAAQ,CAAC,CAAC/B,IAAI,CAAC,MAAM;IACpC,MAAMgB,MAAM,GAAG,IAAIZ,SAAS,CAAC/B,QAAQ,CAACyD,KAAK,CAAC,CAAC;IAC7C,IAAI,CAACnC,KAAK,CAAC0C,uBAAuB,EAAE;MAChC,OAAOrB,MAAM;IACjB;IACAA,MAAM,CAACH,OAAO,CAAC,CAAC;IAChB,OAAO,IAAIT,SAAS,CAAC,EAAE,CAAC;EAC5B,CAAC,CAAC;AACN;AACAtB,gBAAgB,CAACwD,eAAe,CAAC,sBAAsB;EAAA,IAAAC,IAAA,GAAA1C,iBAAA,CAAE,WAAO2C,QAAQ,EAAE,GAAGC,IAAI,EAAK;IAClF,IAAI,CAACC,GAAG,EAAEC,YAAY,CAAC,GAAGF,IAAI;IAC9B/D,UAAU,CAACgE,GAAG,YAAY/D,GAAG,CAAC;IAC9B,IAAI,OAAOgE,YAAY,KAAK,QAAQ,EAAE;MAClCA,YAAY,GAAG,CAAC;IACpB;IACA,MAAM;MAAEC;IAAa,CAAC,GAAGJ,QAAQ,CAACK,GAAG,CAAC9D,wBAAwB,CAAC;IAC/D,MAAM8C,KAAK,GAAGW,QAAQ,CAACK,GAAG,CAAChE,aAAa,CAAC,CAACiE,QAAQ,CAACJ,GAAG,CAAC;IACvD,IAAI,CAACb,KAAK,EAAE;MACR,OAAO,EAAE;IACb;IACA,MAAMrB,IAAI,SAASmB,QAAQ,CAACiB,YAAY,EAAEf,KAAK,EAAEvD,iBAAiB,CAACyE,IAAI,CAAC;IACxE,IAAI,CAACvC,IAAI,EAAE;MACP,OAAO,EAAE;IACb;IACA;IACA,KAAK,IAAI0B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGc,IAAI,CAACC,GAAG,CAACN,YAAY,EAAEnC,IAAI,CAACD,KAAK,CAACO,MAAM,CAAC,EAAEoB,CAAC,EAAE,EAAE;MAChE,MAAM1B,IAAI,CAACD,KAAK,CAAC2B,CAAC,CAAC,CAACxC,OAAO,CAACpB,iBAAiB,CAACyE,IAAI,CAAC;IACvD;IACA,MAAM/B,MAAM,GAAGR,IAAI,CAACD,KAAK,CAAC2C,KAAK,CAAC,CAAC,CAAC;IAClC1C,IAAI,CAACK,OAAO,CAAC,CAAC;IACd,OAAOG,MAAM;EACjB,CAAC;EAAA,iBAAAmC,EAAA;IAAA,OAAAZ,IAAA,CAAAa,KAAA,OAAAC,SAAA;EAAA;AAAA,IAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}