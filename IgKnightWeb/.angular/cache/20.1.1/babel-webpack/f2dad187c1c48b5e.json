{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nexport let OauthCallback = /*#__PURE__*/(() => {\n  class OauthCallback {\n    route;\n    router;\n    constructor(route, router) {\n      this.route = route;\n      this.router = router;\n    }\n    ngOnInit() {\n      const token = this.route.snapshot.queryParamMap.get('token');\n      const email = this.route.snapshot.queryParamMap.get('email');\n      if (token) {\n        localStorage.setItem('access_token', token);\n        // You can store email or fetch user details with the token if needed\n        this.router.navigate(['/']); // Redirect after storing token\n      } else {\n        // Redirect to login if no token\n        this.router.navigate(['/login']);\n      }\n    }\n    static ɵfac = function OauthCallback_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || OauthCallback)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: OauthCallback,\n      selectors: [[\"app-oauth-callback\"]],\n      standalone: false,\n      decls: 2,\n      vars: 0,\n      template: function OauthCallback_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"oauth-callback works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n  return OauthCallback;\n})();","map":{"version":3,"names":["OauthCallback","route","router","constructor","ngOnInit","token","snapshot","queryParamMap","get","email","localStorage","setItem","navigate","i0","ɵɵdirectiveInject","i1","ActivatedRoute","Router","selectors","standalone","decls","vars","template","OauthCallback_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["C:\\Users\\abhis\\OneDrive\\Desktop\\IgKnightWeb\\IgKnightWeb\\src\\app\\features\\auth\\oauth-callback\\oauth-callback.ts","C:\\Users\\abhis\\OneDrive\\Desktop\\IgKnightWeb\\IgKnightWeb\\src\\app\\features\\auth\\oauth-callback\\oauth-callback.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-oauth-callback',\r\n  standalone: false,\r\n  templateUrl: './oauth-callback.html',\r\n  styleUrl: './oauth-callback.scss'\r\n})\r\nexport class OauthCallback implements OnInit {\r\n  constructor(private route: ActivatedRoute, private router: Router) {}\r\n\r\n  ngOnInit(): void {\r\n    const token = this.route.snapshot.queryParamMap.get('token');\r\n    const email = this.route.snapshot.queryParamMap.get('email');\r\n\r\n    if (token) {\r\n      localStorage.setItem('access_token', token);\r\n      // You can store email or fetch user details with the token if needed\r\n      this.router.navigate(['/']); // Redirect after storing token\r\n    } else {\r\n      // Redirect to login if no token\r\n      this.router.navigate(['/login']);\r\n    }\r\n  }\r\n}\r\n","<p>oauth-callback works!</p>\r\n"],"mappings":";;AASA,WAAaA,aAAa;EAApB,MAAOA,aAAa;IACJC,KAAA;IAA+BC,MAAA;IAAnDC,YAAoBF,KAAqB,EAAUC,MAAc;MAA7C,KAAAD,KAAK,GAALA,KAAK;MAA0B,KAAAC,MAAM,GAANA,MAAM;IAAW;IAEpEE,QAAQA,CAAA;MACN,MAAMC,KAAK,GAAG,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,aAAa,CAACC,GAAG,CAAC,OAAO,CAAC;MAC5D,MAAMC,KAAK,GAAG,IAAI,CAACR,KAAK,CAACK,QAAQ,CAACC,aAAa,CAACC,GAAG,CAAC,OAAO,CAAC;MAE5D,IAAIH,KAAK,EAAE;QACTK,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEN,KAAK,CAAC;QAC3C;QACA,IAAI,CAACH,MAAM,CAACU,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAC/B,CAAC,MAAM;QACL;QACA,IAAI,CAACV,MAAM,CAACU,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;MAClC;IACF;;uCAfWZ,aAAa,EAAAa,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAE,MAAA;IAAA;;YAAbjB,aAAa;MAAAkB,SAAA;MAAAC,UAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,QAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCT1BX,EAAA,CAAAa,cAAA,QAAG;UAAAb,EAAA,CAAAc,MAAA,4BAAqB;UAAAd,EAAA,CAAAe,YAAA,EAAI;;;;;;SDSf5B,aAAa;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}