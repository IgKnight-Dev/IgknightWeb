{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/abhis/OneDrive/Desktop/IgKnightWeb/IgKnightWeb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/assignment-questions-api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction QuestionList_div_0__svg_svg_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 32);\n    i0.ɵɵelement(1, \"path\", 33);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuestionList_div_0__svg_svg_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 34);\n    i0.ɵɵelement(1, \"path\", 35);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction QuestionList_div_0_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"span\", 37);\n    i0.ɵɵtext(5, \" Correct: \");\n    i0.ɵɵelementStart(6, \"span\", 38);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(8, \" \\u00A0\\u2022\\u00A0 \");\n    i0.ɵɵelementStart(9, \"span\", 39);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const question_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(question_r5.questionText);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(question_r5.correctOption);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(question_r5.explanation || \"No explanation\");\n  }\n}\nfunction QuestionList_div_0_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"div\", 41)(2, \"div\")(3, \"label\", 42);\n    i0.ɵɵtext(4, \"Question\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"textarea\", 43);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function QuestionList_div_0_div_34_Template_textarea_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const question_r5 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(question_r5.questionText, $event) || (question_r5.questionText = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 44)(7, \"div\")(8, \"label\", 42);\n    i0.ɵɵtext(9, \"Option A\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 45);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function QuestionList_div_0_div_34_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const question_r5 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(question_r5.optionA, $event) || (question_r5.optionA = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\")(12, \"label\", 42);\n    i0.ɵɵtext(13, \"Option B\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"input\", 46);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function QuestionList_div_0_div_34_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const question_r5 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(question_r5.optionB, $event) || (question_r5.optionB = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\")(16, \"label\", 42);\n    i0.ɵɵtext(17, \"Option C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"input\", 47);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function QuestionList_div_0_div_34_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const question_r5 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(question_r5.optionC, $event) || (question_r5.optionC = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\")(20, \"label\", 42);\n    i0.ɵɵtext(21, \"Option D\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 48);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function QuestionList_div_0_div_34_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const question_r5 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(question_r5.optionD, $event) || (question_r5.optionD = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\")(24, \"label\", 42);\n    i0.ɵɵtext(25, \"Correct Answer\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"select\", 49);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function QuestionList_div_0_div_34_Template_select_ngModelChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const question_r5 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(question_r5.correctOption, $event) || (question_r5.correctOption = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementStart(27, \"option\", 50);\n    i0.ɵɵtext(28, \"Select correct option\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"option\", 51);\n    i0.ɵɵtext(30, \"Option A\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"option\", 52);\n    i0.ɵɵtext(32, \"Option B\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"option\", 53);\n    i0.ɵɵtext(34, \"Option C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"option\", 54);\n    i0.ɵɵtext(36, \"Option D\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(37, \"div\")(38, \"label\", 42);\n    i0.ɵɵtext(39, \"Answer Explanation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(40, \"textarea\", 55);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function QuestionList_div_0_div_34_Template_textarea_ngModelChange_40_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const question_r5 = i0.ɵɵnextContext().$implicit;\n      i0.ɵɵtwoWayBindingSet(question_r5.explanation, $event) || (question_r5.explanation = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(41, \"div\", 56)(42, \"button\", 57);\n    i0.ɵɵlistener(\"click\", function QuestionList_div_0_div_34_Template_button_click_42_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r6 = i0.ɵɵnextContext();\n      const question_r5 = ctx_r6.$implicit;\n      const i_r2 = ctx_r6.index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.saveChanges(i_r2, question_r5));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(43, \"svg\", 58);\n    i0.ɵɵelement(44, \"path\", 59)(45, \"path\", 60)(46, \"path\", 61);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(47, \" Save Changes \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(48, \"button\", 62);\n    i0.ɵɵlistener(\"click\", function QuestionList_div_0_div_34_Template_button_click_48_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const i_r2 = i0.ɵɵnextContext().index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.cancelEdit(i_r2));\n    });\n    i0.ɵɵtext(49, \" Cancel \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    const question_r5 = ctx_r6.$implicit;\n    const i_r2 = ctx_r6.index;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"name\", i0.ɵɵinterpolate1(\"questionText\", i_r2));\n    i0.ɵɵtwoWayProperty(\"ngModel\", question_r5.questionText);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"name\", i0.ɵɵinterpolate1(\"optionA\", i_r2));\n    i0.ɵɵtwoWayProperty(\"ngModel\", question_r5.optionA);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"name\", i0.ɵɵinterpolate1(\"optionB\", i_r2));\n    i0.ɵɵtwoWayProperty(\"ngModel\", question_r5.optionB);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"name\", i0.ɵɵinterpolate1(\"optionC\", i_r2));\n    i0.ɵɵtwoWayProperty(\"ngModel\", question_r5.optionC);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"name\", i0.ɵɵinterpolate1(\"optionD\", i_r2));\n    i0.ɵɵtwoWayProperty(\"ngModel\", question_r5.optionD);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"name\", i0.ɵɵinterpolate1(\"correctOption\", i_r2));\n    i0.ɵɵtwoWayProperty(\"ngModel\", question_r5.correctOption);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngValue\", undefined);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"name\", i0.ɵɵinterpolate1(\"explanation\", i_r2));\n    i0.ɵɵtwoWayProperty(\"ngModel\", question_r5.explanation);\n  }\n}\nfunction QuestionList_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(4, \"svg\", 6);\n    i0.ɵɵelement(5, \"circle\", 7)(6, \"circle\", 8)(7, \"circle\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(8, \"div\", 10);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 11);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 12);\n    i0.ɵɵtext(13, \"10 pts\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 13)(15, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function QuestionList_div_0_Template_button_click_15_listener() {\n      const i_r2 = i0.ɵɵrestoreView(_r1).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.enableEdit(i_r2));\n    });\n    i0.ɵɵelementStart(16, \"i\");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(17, \"svg\", 15);\n    i0.ɵɵelement(18, \"path\", 16)(19, \"path\", 17)(20, \"path\", 18);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(21, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function QuestionList_div_0_Template_button_click_21_listener() {\n      const ctx_r3 = i0.ɵɵrestoreView(_r1);\n      const question_r5 = ctx_r3.$implicit;\n      const i_r2 = ctx_r3.index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openDeleteQuestionModal(question_r5, i_r2));\n    });\n    i0.ɵɵelementStart(22, \"i\");\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(23, \"svg\", 20);\n    i0.ɵɵelement(24, \"path\", 21)(25, \"path\", 22)(26, \"path\", 23)(27, \"line\", 24)(28, \"line\", 25);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(29, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function QuestionList_div_0_Template_button_click_29_listener() {\n      const i_r2 = i0.ɵɵrestoreView(_r1).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleExpand(i_r2));\n    });\n    i0.ɵɵtemplate(30, QuestionList_div_0__svg_svg_30_Template, 2, 0, \"svg\", 27)(31, QuestionList_div_0__svg_svg_31_Template, 2, 0, \"svg\", 28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(32, \"div\", 29);\n    i0.ɵɵtemplate(33, QuestionList_div_0_div_33_Template, 11, 3, \"div\", 30)(34, QuestionList_div_0_div_34_Template, 50, 22, \"div\", 31);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const question_r5 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\"Q\", i_r2 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(question_r5.correctOption);\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.expandedMap[i_r2]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.expandedMap[i_r2]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.expandedMap[i_r2]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.expandedMap[i_r2]);\n  }\n}\nfunction QuestionList_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 63)(2, \"div\", 64)(3, \"div\", 65)(4, \"div\", 66);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 67);\n    i0.ɵɵelement(6, \"path\", 68)(7, \"path\", 69);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(8, \"div\", 70)(9, \"h2\", 71);\n    i0.ɵɵtext(10, \"Are you absolutely sure?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\", 72);\n    i0.ɵɵtext(12, \" Deleting \");\n    i0.ɵɵelementStart(13, \"span\", 73);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \" will permanently remove this question and any related data. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\", 74);\n    i0.ɵɵtext(17, \" This action is irreversible. Please proceed only if you\\u2019re certain. \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"div\", 75)(19, \"input\", 76);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function QuestionList_ng_container_1_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.questionDeleteConfirmed, $event) || (ctx_r2.questionDeleteConfirmed = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"label\", 77);\n    i0.ɵɵtext(21, \" I understand that this cannot be undone. \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 78)(23, \"button\", 79);\n    i0.ɵɵlistener(\"click\", function QuestionList_ng_container_1_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deletingQuestion = false);\n    });\n    i0.ɵɵtext(24, \" Cancel \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"button\", 80);\n    i0.ɵɵlistener(\"click\", function QuestionList_ng_container_1_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.confirmQuestionDelete());\n    });\n    i0.ɵɵtext(26, \" Yes, Delete it \");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(14);\n    i0.ɵɵtextInterpolate1(\"Question #\", ctx_r2.selectedQuestionIndex + 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.questionDeleteConfirmed);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.questionDeleteConfirmed);\n  }\n}\nexport let QuestionList = /*#__PURE__*/(() => {\n  class QuestionList {\n    assignmentQuestionsService;\n    assignmentId;\n    assignmentTitle;\n    assignmentQuestions = [];\n    deletingQuestion = false;\n    questionDeleteConfirmed = false;\n    selectedQuestion = null;\n    selectedQuestionIndex = -1;\n    constructor(assignmentQuestionsService) {\n      this.assignmentQuestionsService = assignmentQuestionsService;\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (_this.assignmentId) {\n          _this.loadQuestionsForAssignment();\n        }\n      })();\n    }\n    ngOnChanges() {\n      if (this.assignmentId) {\n        this.loadQuestionsForAssignment();\n      }\n    }\n    questions = [];\n    expandedMap = {};\n    editModeMap = {};\n    toggleExpand(i) {\n      this.expandedMap[i] = !this.expandedMap[i];\n    }\n    enableEdit(i) {\n      this.expandedMap[i] = true;\n      this.editModeMap[i] = true;\n    }\n    cancelEdit(index) {\n      this.expandedMap[index] = false;\n    }\n    openDeleteQuestionModal(question, index) {\n      this.selectedQuestion = question;\n      this.selectedQuestionIndex = index;\n      this.questionDeleteConfirmed = false;\n      this.deletingQuestion = true;\n    }\n    confirmQuestionDelete() {\n      if (!this.selectedQuestion) return;\n      // Call delete logic here\n      this.deleteQuestion(this.selectedQuestionIndex, this.selectedQuestion); // or use the index\n      this.deletingQuestion = false;\n    }\n    deleteQuestion(index, question) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        if (question.id != null && question.id != undefined) {\n          try {\n            yield _this2.assignmentQuestionsService.deleteQuestion(_this2.assignmentId, question.id);\n            delete _this2.editModeMap[index];\n            _this2.questions.splice(index, 1);\n          } catch (err) {\n            console.error('Failed to delete question', err);\n            alert('Error deleting question.');\n          }\n        }\n      })();\n    }\n    loadQuestionsForAssignment() {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          _this3.questions = yield _this3.assignmentQuestionsService.getAssignmentQuestions(_this3.assignmentId);\n        } catch (err) {\n          console.error('Failed to fetch assignments', err);\n        }\n      })();\n    }\n    saveChanges(index, question) {\n      var _this4 = this;\n      return _asyncToGenerator(function* () {\n        const updatedData = {\n          questionText: question.questionText,\n          optionA: question.optionA,\n          optionB: question.optionB,\n          optionC: question.optionC,\n          optionD: question.optionD,\n          correctOption: question.correctOption,\n          explanation: question.explanation\n        };\n        if (question.id !== null && question.id !== undefined) {\n          try {\n            yield _this4.assignmentQuestionsService.updateQuestion(_this4.assignmentId, question.id, updatedData);\n            _this4.expandedMap[index] = false;\n          } catch (err) {\n            console.error('Failed to update question', err);\n            alert('Error saving changes.');\n          }\n        }\n      })();\n    }\n    static ɵfac = function QuestionList_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || QuestionList)(i0.ɵɵdirectiveInject(i1.AssignmentQuestionsApiService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: QuestionList,\n      selectors: [[\"app-question-list\"]],\n      inputs: {\n        assignmentId: \"assignmentId\",\n        assignmentTitle: \"assignmentTitle\"\n      },\n      standalone: false,\n      features: [i0.ɵɵNgOnChangesFeature],\n      decls: 2,\n      vars: 2,\n      consts: [[\"class\", \"rounded-xl mt-4 bg-white border border-gray-200 shadow-sm mb-6\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [1, \"rounded-xl\", \"mt-4\", \"bg-white\", \"border\", \"border-gray-200\", \"shadow-sm\", \"mb-6\"], [1, \"flex\", \"items-center\", \"p-4\", \"bg-gray-100\", \"justify-between\"], [1, \"flex\", \"gap-2\", \"items-center\"], [1, \"text-sm\", \"text-gray-500\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"24\", \"height\", \"24\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", 1, \"lucide\", \"lucide-ellipsis-vertical-icon\", \"lucide-ellipsis-vertical\"], [\"cx\", \"12\", \"cy\", \"12\", \"r\", \"1\"], [\"cx\", \"12\", \"cy\", \"5\", \"r\", \"1\"], [\"cx\", \"12\", \"cy\", \"19\", \"r\", \"1\"], [1, \"bg-orange-500\", \"text-white\", \"text-sm\", \"px-2\", \"py-1\", \"rounded\"], [1, \"bg-yellow-100\", \"text-yellow-800\", \"text-xs\", \"px-2\", \"py-1\", \"rounded\"], [1, \"bg-gray-200\", \"text-gray-800\", \"text-xs\", \"px-2\", \"py-1\", \"rounded\"], [1, \"flex\", \"items-center\", \"gap-4\"], [1, \"text-blue-600\", \"hover:text-blue-600\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", 1, \"lucide\", \"lucide-pencil-line-icon\", \"lucide-pencil-line\"], [\"d\", \"M12 20h9\"], [\"d\", \"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z\"], [\"d\", \"m15 5 3 3\"], [1, \"text-red-600\", \"hover:text-red-600\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", 1, \"lucide\", \"lucide-trash2-icon\", \"lucide-trash-2\"], [\"d\", \"M3 6h18\"], [\"d\", \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\"], [\"d\", \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\"], [\"x1\", \"10\", \"x2\", \"10\", \"y1\", \"11\", \"y2\", \"17\"], [\"x1\", \"14\", \"x2\", \"14\", \"y1\", \"11\", \"y2\", \"17\"], [3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"class\", \"lucide lucide-chevron-down-icon\", 4, \"ngIf\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"class\", \"lucide lucide-chevron-up-icon\", 4, \"ngIf\"], [1, \"p-4\"], [\"class\", \"mt-2 text-sm\", 4, \"ngIf\"], [\"class\", \"mt-4 border-t pt-4 space-y-4\", 4, \"ngIf\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", 1, \"lucide\", \"lucide-chevron-down-icon\"], [\"d\", \"m6 9 6 6 6-6\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", 1, \"lucide\", \"lucide-chevron-up-icon\"], [\"d\", \"m18 15-6-6-6 6\"], [1, \"mt-2\", \"text-sm\"], [1, \"text-gray-500\"], [1, \"text-green-600\"], [1, \"text-gray-400\"], [1, \"mt-4\", \"border-t\", \"pt-4\", \"space-y-4\"], [1, \"space-y-6\"], [1, \"text-sm\", \"font-medium\", \"text-gray-700\"], [\"rows\", \"3\", \"placeholder\", \"Enter the question text\", 1, \"w-full\", \"mt-1\", \"px-4\", \"py-2\", \"rounded-md\", \"border\", \"border-gray-300\", \"focus:ring-orange-500\", \"focus:outline-none\", \"text-sm\", \"resize-none\", 3, \"ngModelChange\", \"ngModel\", \"name\"], [1, \"grid\", \"grid-cols-1\", \"md:grid-cols-2\", \"gap-4\"], [\"type\", \"text\", \"placeholder\", \"Enter option A\", 1, \"w-full\", \"mt-1\", \"px-4\", \"py-2\", \"rounded-md\", \"border\", \"border-gray-300\", \"focus:ring-orange-500\", \"focus:outline-none\", \"text-sm\", 3, \"ngModelChange\", \"ngModel\", \"name\"], [\"type\", \"text\", \"placeholder\", \"Enter option B\", 1, \"w-full\", \"mt-1\", \"px-4\", \"py-2\", \"rounded-md\", \"border\", \"border-gray-300\", \"focus:ring-orange-500\", \"focus:outline-none\", \"text-sm\", 3, \"ngModelChange\", \"ngModel\", \"name\"], [\"type\", \"text\", \"placeholder\", \"Enter option C\", 1, \"w-full\", \"mt-1\", \"px-4\", \"py-2\", \"rounded-md\", \"border\", \"border-gray-300\", \"focus:ring-orange-500\", \"focus:outline-none\", \"text-sm\", 3, \"ngModelChange\", \"ngModel\", \"name\"], [\"type\", \"text\", \"placeholder\", \"Enter option D\", 1, \"w-full\", \"mt-1\", \"px-4\", \"py-2\", \"rounded-md\", \"border\", \"border-gray-300\", \"focus:ring-orange-500\", \"focus:outline-none\", \"text-sm\", 3, \"ngModelChange\", \"ngModel\", \"name\"], [1, \"w-full\", \"mt-1\", \"px-4\", \"py-2\", \"rounded-md\", \"border\", \"border-gray-300\", \"focus:ring-orange-500\", \"focus:outline-none\", \"text-sm\", 3, \"ngModelChange\", \"ngModel\", \"name\"], [\"disabled\", \"\", 3, \"ngValue\"], [\"value\", \"A\"], [\"value\", \"B\"], [\"value\", \"C\"], [\"value\", \"D\"], [\"rows\", \"3\", \"placeholder\", \"Explain the correct answer\", 1, \"w-full\", \"mt-1\", \"px-4\", \"py-2\", \"rounded-md\", \"border\", \"border-gray-300\", \"focus:ring-orange-500\", \"focus:outline-none\", \"text-sm\", \"resize-none\", 3, \"ngModelChange\", \"ngModel\", \"name\"], [1, \"flex\", \"flex-wrap\", \"gap-4\", \"pt-2\"], [\"type\", \"submit\", 1, \"bg-green-500\", \"hover:bg-green-600\", \"text-white\", \"px-6\", \"py-2\", \"rounded-md\", \"text-sm\", \"font-semibold\", \"flex\", \"items-center\", \"gap-x-2\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"18\", \"height\", \"18\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", \"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", 1, \"lucide\", \"lucide-save-icon\", \"lucide-save\"], [\"d\", \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\"], [\"d\", \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\"], [\"d\", \"M7 3v4a1 1 0 0 0 1 1h7\"], [\"type\", \"reset\", 1, \"border\", \"border-gray-300\", \"hover:bg-gray-100\", \"text-gray-700\", \"px-6\", \"py-2\", \"rounded-md\", \"text-sm\", \"font-medium\", 3, \"click\"], [1, \"fixed\", \"inset-0\", \"z-50\", \"flex\", \"items-center\", \"justify-center\", \"bg-black/40\", \"backdrop-blur-sm\"], [1, \"bg-white\", \"rounded-xl\", \"shadow-lg\", \"w-full\", \"max-w-md\", \"p-6\", \"space-y-4\"], [1, \"flex\", \"items-start\", \"gap-4\"], [1, \"mt-1\", \"text-red-600\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"stroke\", \"currentColor\", \"stroke-width\", \"2\", 1, \"w-6\", \"h-6\"], [\"d\", \"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2\"], [\"d\", \"M10 11v6M14 11v6\"], [1, \"flex-1\"], [1, \"text-lg\", \"font-semibold\", \"text-gray-800\"], [1, \"text-sm\", \"text-gray-600\", \"mt-1\"], [1, \"font-semibold\", \"text-gray-800\"], [1, \"text-sm\", \"text-red-500\", \"mt-2\"], [1, \"flex\", \"items-center\", \"gap-2\"], [\"type\", \"checkbox\", \"id\", \"confirmQuestionDelete\", 1, \"accent-red-600\", \"rounded-md\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"confirmQuestionDelete\", 1, \"text-sm\", \"text-gray-700\"], [1, \"flex\", \"justify-end\", \"gap-3\", \"pt-2\"], [1, \"px-4\", \"py-2\", \"rounded-md\", \"border\", \"border-gray-300\", \"text-gray-700\", \"hover:bg-gray-100\", 3, \"click\"], [1, \"px-4\", \"py-2\", \"rounded-md\", \"bg-red-600\", \"text-white\", \"hover:bg-red-700\", \"disabled:opacity-50\", 3, \"click\", \"disabled\"]],\n      template: function QuestionList_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, QuestionList_div_0_Template, 35, 6, \"div\", 0)(1, QuestionList_ng_container_1_Template, 27, 3, \"ng-container\", 1);\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngForOf\", ctx.questions);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.deletingQuestion);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.CheckboxControlValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n  return QuestionList;\n})();","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate","question_r5","questionText","correctOption","explanation","ɵɵtwoWayListener","QuestionList_div_0_div_34_Template_textarea_ngModelChange_5_listener","$event","ɵɵrestoreView","_r6","ɵɵnextContext","$implicit","ɵɵtwoWayBindingSet","ɵɵresetView","QuestionList_div_0_div_34_Template_input_ngModelChange_10_listener","optionA","QuestionList_div_0_div_34_Template_input_ngModelChange_14_listener","optionB","QuestionList_div_0_div_34_Template_input_ngModelChange_18_listener","optionC","QuestionList_div_0_div_34_Template_input_ngModelChange_22_listener","optionD","QuestionList_div_0_div_34_Template_select_ngModelChange_26_listener","QuestionList_div_0_div_34_Template_textarea_ngModelChange_40_listener","ɵɵlistener","QuestionList_div_0_div_34_Template_button_click_42_listener","ctx_r6","i_r2","index","ctx_r2","saveChanges","QuestionList_div_0_div_34_Template_button_click_48_listener","cancelEdit","ɵɵproperty","ɵɵinterpolate1","ɵɵtwoWayProperty","undefined","QuestionList_div_0_Template_button_click_15_listener","_r1","enableEdit","QuestionList_div_0_Template_button_click_21_listener","ctx_r3","openDeleteQuestionModal","QuestionList_div_0_Template_button_click_29_listener","toggleExpand","ɵɵtemplate","QuestionList_div_0__svg_svg_30_Template","QuestionList_div_0__svg_svg_31_Template","QuestionList_div_0_div_33_Template","QuestionList_div_0_div_34_Template","ɵɵtextInterpolate1","expandedMap","ɵɵelementContainerStart","QuestionList_ng_container_1_Template_input_ngModelChange_19_listener","_r8","questionDeleteConfirmed","QuestionList_ng_container_1_Template_button_click_23_listener","deletingQuestion","QuestionList_ng_container_1_Template_button_click_25_listener","confirmQuestionDelete","selectedQuestionIndex","QuestionList","assignmentQuestionsService","assignmentId","assignmentTitle","assignmentQuestions","selectedQuestion","constructor","ngOnInit","_this","_asyncToGenerator","loadQuestionsForAssignment","ngOnChanges","questions","editModeMap","i","question","deleteQuestion","_this2","id","splice","err","console","error","alert","_this3","getAssignmentQuestions","_this4","updatedData","updateQuestion","ɵɵdirectiveInject","i1","AssignmentQuestionsApiService","selectors","inputs","standalone","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","QuestionList_Template","rf","ctx","QuestionList_div_0_Template","QuestionList_ng_container_1_Template"],"sources":["C:\\Users\\abhis\\OneDrive\\Desktop\\IgKnightWeb\\IgKnightWeb\\src\\app\\content\\question-list\\question-list.ts","C:\\Users\\abhis\\OneDrive\\Desktop\\IgKnightWeb\\IgKnightWeb\\src\\app\\content\\question-list\\question-list.html"],"sourcesContent":["import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { AssignmentQuestionDto, UpdateAssignmentQuestionDto } from '../../models/assignment-question.model';\r\nimport { AssignmentQuestionsApiService } from '../services/assignment-questions-api.service';\r\nimport { UpdateAssignmentDto } from '../../models/assignment.model';\r\n\r\n@Component({\r\n  selector: 'app-question-list',\r\n  standalone: false,\r\n  templateUrl: './question-list.html',\r\n  styleUrl: './question-list.scss'\r\n})\r\nexport class QuestionList {\r\n  @Input() assignmentId!: string;\r\n  @Input() assignmentTitle!: string;\r\n  assignmentQuestions: AssignmentQuestionDto[] = [];\r\n  deletingQuestion = false;\r\n  questionDeleteConfirmed = false;\r\n  selectedQuestion: AssignmentQuestionDto | null = null;\r\n  selectedQuestionIndex: number = -1;\r\n  \r\n  constructor(private assignmentQuestionsService: AssignmentQuestionsApiService) {}\r\n    \r\n    async ngOnInit(): Promise<void> \r\n    {\r\n      if(this.assignmentId)\r\n      {\r\n        this.loadQuestionsForAssignment();\r\n        \r\n      }\r\n    }\r\n\r\n  ngOnChanges() {\r\n    if (this.assignmentId) {\r\n      this.loadQuestionsForAssignment();\r\n    }\r\n  }\r\n\r\n  questions: AssignmentQuestionDto[] = [];\r\n  expandedMap: { [key: number]: boolean } = {};\r\n  editModeMap: { [key: number]: boolean } = {};\r\n\r\ntoggleExpand(i: number) {\r\n  this.expandedMap[i] = !this.expandedMap[i];\r\n}\r\n\r\nenableEdit(i: number) {\r\n  this.expandedMap[i] = true;\r\n  this.editModeMap[i] = true;\r\n}\r\n\r\ncancelEdit(index: number) {\r\n  this.expandedMap[index] = false;\r\n}\r\n\r\nopenDeleteQuestionModal(question: AssignmentQuestionDto, index: number): void {\r\n  this.selectedQuestion = question;\r\n  this.selectedQuestionIndex = index;\r\n  this.questionDeleteConfirmed = false;\r\n  this.deletingQuestion = true;\r\n}\r\n\r\nconfirmQuestionDelete(): void {\r\n  if (!this.selectedQuestion) return;\r\n\r\n  // Call delete logic here\r\n  this.deleteQuestion(this.selectedQuestionIndex, this.selectedQuestion); // or use the index\r\n  this.deletingQuestion = false;\r\n}\r\n\r\nasync deleteQuestion(index: number, question: AssignmentQuestionDto) \r\n{\r\n  if(question.id != null && question.id != undefined) \r\n  {\r\n    try\r\n    {\r\n\r\n    await this.assignmentQuestionsService.deleteQuestion(this.assignmentId, question.id);\r\n    delete this.editModeMap[index];\r\n    this.questions.splice(index, 1);\r\n\r\n    }\r\n    catch(err) {\r\n      console.error('Failed to delete question', err);\r\n      alert('Error deleting question.');\r\n    }\r\n  }\r\n}\r\n\r\n  async loadQuestionsForAssignment() \r\n  {\r\n    try \r\n      {\r\n        this.questions = await this.assignmentQuestionsService.getAssignmentQuestions(this.assignmentId);\r\n      } \r\n    catch (err) \r\n    {\r\n      console.error('Failed to fetch assignments', err);\r\n    }\r\n  }\r\n\r\n  async saveChanges(index: number, question: AssignmentQuestionDto) \r\n  {\r\n    const updatedData: UpdateAssignmentQuestionDto = {\r\n    questionText: question.questionText,\r\n    optionA: question.optionA,\r\n    optionB: question.optionB,\r\n    optionC: question.optionC,\r\n    optionD: question.optionD,\r\n    correctOption: question.correctOption,\r\n    explanation: question.explanation,\r\n    };\r\n\r\n    if(question.id !== null && question.id !== undefined)\r\n    {\r\n      try \r\n      {\r\n        await this.assignmentQuestionsService.updateQuestion(this.assignmentId, question.id, updatedData);\r\n        this.expandedMap[index] = false;\r\n      } \r\n      catch (err) {\r\n        console.error('Failed to update question', err);\r\n        alert('Error saving changes.');\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div *ngFor=\"let question of questions; let i = index\" class=\"rounded-xl mt-4 bg-white border border-gray-200 shadow-sm mb-6\">\r\n  <!-- Top Header -->\r\n  <div class=\"flex items-center p-4 bg-gray-100 justify-between\">\r\n    <div class=\"flex gap-2 items-center\">\r\n            <div class=\"text-sm text-gray-500\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-ellipsis-vertical-icon lucide-ellipsis-vertical\"><circle cx=\"12\" cy=\"12\" r=\"1\"/><circle cx=\"12\" cy=\"5\" r=\"1\"/><circle cx=\"12\" cy=\"19\" r=\"1\"/></svg></div>\r\n\r\n      <div class=\"bg-orange-500 text-white text-sm px-2 py-1 rounded\">Q{{ i + 1 }}</div>\r\n      <div class=\"bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded\">{{ question.correctOption }}</div>\r\n      <div class=\"bg-gray-200 text-gray-800 text-xs px-2 py-1 rounded\">10 pts</div>\r\n    </div>\r\n    <div class=\"flex items-center gap-4\">\r\n      <button (click)=\"enableEdit(i)\" class=\"text-blue-600 hover:text-blue-600\"><i><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-pencil-line-icon lucide-pencil-line\"><path d=\"M12 20h9\"/><path d=\"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z\"/><path d=\"m15 5 3 3\"/></svg></i></button>\r\n      <button (click)=\"openDeleteQuestionModal(question, i)\" class=\"text-red-600 hover:text-red-600\"><i><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-trash2-icon lucide-trash-2\"><path d=\"M3 6h18\"/><path d=\"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\"/><path d=\"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\"/><line x1=\"10\" x2=\"10\" y1=\"11\" y2=\"17\"/><line x1=\"14\" x2=\"14\" y1=\"11\" y2=\"17\"/></svg></i></button>\r\n                <button (click)=\"toggleExpand(i)\">\r\n        <svg *ngIf=\"!expandedMap[i]\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"\r\n            fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n            class=\"lucide lucide-chevron-down-icon\">\r\n            <path d=\"m6 9 6 6 6-6\" />\r\n        </svg>\r\n\r\n        <svg *ngIf=\"expandedMap[i]\" xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\"\r\n            fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n            class=\"lucide lucide-chevron-up-icon\">\r\n            <path d=\"m18 15-6-6-6 6\" />\r\n        </svg>\r\n        </button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Question Summary -->\r\n  <div class=\"p-4\">\r\n    <div class=\"mt-2 text-sm\" *ngIf=\"!expandedMap[i]\">\r\n      <strong>{{ question.questionText }}</strong><br />\r\n      <span class=\"text-gray-500\">\r\n        Correct: <span class=\"text-green-600\">{{ question.correctOption }}</span>\r\n      </span>\r\n      &nbsp;•&nbsp;\r\n      <span class=\"text-gray-400\">{{ question.explanation || 'No explanation' }}</span>\r\n    </div>\r\n\r\n    <!-- Editable Form -->\r\n    <div *ngIf=\"expandedMap[i]\" class=\"mt-4 border-t pt-4 space-y-4\">\r\n      <div class=\"space-y-6\">\r\n        <!-- Question -->\r\n        <div>\r\n          <label class=\"text-sm font-medium text-gray-700\">Question</label>\r\n          <textarea\r\n            rows=\"3\"\r\n            [(ngModel)]=\"question.questionText\"\r\n            placeholder=\"Enter the question text\"\r\n            class=\"w-full mt-1 px-4 py-2 rounded-md border border-gray-300 focus:ring-orange-500 focus:outline-none text-sm resize-none\"\r\n            name=\"questionText{{i}}\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <!-- Options A-D -->\r\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          <div>\r\n            <label class=\"text-sm font-medium text-gray-700\">Option A</label>\r\n            <input\r\n              type=\"text\"\r\n              [(ngModel)]=\"question.optionA\"\r\n              placeholder=\"Enter option A\"\r\n              name=\"optionA{{i}}\"\r\n              class=\"w-full mt-1 px-4 py-2 rounded-md border border-gray-300 focus:ring-orange-500 focus:outline-none text-sm\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label class=\"text-sm font-medium text-gray-700\">Option B</label>\r\n            <input\r\n              type=\"text\"\r\n              [(ngModel)]=\"question.optionB\"\r\n              placeholder=\"Enter option B\"\r\n              name=\"optionB{{i}}\"\r\n              class=\"w-full mt-1 px-4 py-2 rounded-md border border-gray-300 focus:ring-orange-500 focus:outline-none text-sm\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label class=\"text-sm font-medium text-gray-700\">Option C</label>\r\n            <input\r\n              type=\"text\"\r\n              [(ngModel)]=\"question.optionC\"\r\n              placeholder=\"Enter option C\"\r\n              name=\"optionC{{i}}\"\r\n              class=\"w-full mt-1 px-4 py-2 rounded-md border border-gray-300 focus:ring-orange-500 focus:outline-none text-sm\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label class=\"text-sm font-medium text-gray-700\">Option D</label>\r\n            <input\r\n              type=\"text\"\r\n              [(ngModel)]=\"question.optionD\"\r\n              placeholder=\"Enter option D\"\r\n              name=\"optionD{{i}}\"\r\n              class=\"w-full mt-1 px-4 py-2 rounded-md border border-gray-300 focus:ring-orange-500 focus:outline-none text-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Correct Answer -->\r\n        <div>\r\n          <label class=\"text-sm font-medium text-gray-700\">Correct Answer</label>\r\n          <select\r\n            [(ngModel)]=\"question.correctOption\"\r\n            name=\"correctOption{{i}}\"\r\n            class=\"w-full mt-1 px-4 py-2 rounded-md border border-gray-300 focus:ring-orange-500 focus:outline-none text-sm\"\r\n          >\r\n            <option [ngValue]=\"undefined\" disabled>Select correct option</option>\r\n            <option value=\"A\">Option A</option>\r\n            <option value=\"B\">Option B</option>\r\n            <option value=\"C\">Option C</option>\r\n            <option value=\"D\">Option D</option>\r\n          </select>\r\n        </div>\r\n\r\n        <!-- Explanation -->\r\n        <div>\r\n          <label class=\"text-sm font-medium text-gray-700\">Answer Explanation</label>\r\n          <textarea\r\n            rows=\"3\"\r\n            [(ngModel)]=\"question.explanation\"\r\n            placeholder=\"Explain the correct answer\"\r\n            name=\"explanation{{i}}\"\r\n            class=\"w-full mt-1 px-4 py-2 rounded-md border border-gray-300 focus:ring-orange-500 focus:outline-none text-sm resize-none\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <!-- Buttons -->\r\n        <div class=\"flex flex-wrap gap-4 pt-2\">\r\n          <button\r\n            (click)=\"saveChanges(i, question)\"\r\n            type=\"submit\"\r\n            class=\"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-md text-sm font-semibold flex items-center gap-x-2\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-save-icon lucide-save\"><path d=\"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\"/><path d=\"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\"/><path d=\"M7 3v4a1 1 0 0 0 1 1h7\"/></svg>\r\n            Save Changes\r\n          </button>\r\n          <button\r\n            (click)=\"cancelEdit(i)\"\r\n            type=\"reset\"\r\n            class=\"border border-gray-300 hover:bg-gray-100 text-gray-700 px-6 py-2 rounded-md text-sm font-medium\"\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-container *ngIf=\"deletingQuestion\">\r\n  <div class=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm\">\r\n    <div class=\"bg-white rounded-xl shadow-lg w-full max-w-md p-6 space-y-4\">\r\n      <!-- Header -->\r\n      <div class=\"flex items-start gap-4\">\r\n        <div class=\"mt-1 text-red-600\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-6 h-6\" fill=\"none\"\r\n               viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\">\r\n            <path d=\"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2\"/>\r\n            <path d=\"M10 11v6M14 11v6\" />\r\n          </svg>\r\n        </div>\r\n        <div class=\"flex-1\">\r\n          <h2 class=\"text-lg font-semibold text-gray-800\">Are you absolutely sure?</h2>\r\n          <p class=\"text-sm text-gray-600 mt-1\">\r\n            Deleting <span class=\"font-semibold text-gray-800\">Question #{{ selectedQuestionIndex + 1 }}</span>\r\n            will permanently remove this question and any related data.\r\n          </p>\r\n          <p class=\"text-sm text-red-500 mt-2\">\r\n            This action is irreversible. Please proceed only if you’re certain.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Confirmation checkbox -->\r\n      <div class=\"flex items-center gap-2\">\r\n        <input type=\"checkbox\" id=\"confirmQuestionDelete\" [(ngModel)]=\"questionDeleteConfirmed\"\r\n               class=\"accent-red-600 rounded-md\" />\r\n        <label for=\"confirmQuestionDelete\" class=\"text-sm text-gray-700\">\r\n          I understand that this cannot be undone.\r\n        </label>\r\n      </div>\r\n\r\n      <!-- Footer buttons -->\r\n      <div class=\"flex justify-end gap-3 pt-2\">\r\n        <button class=\"px-4 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-100\"\r\n                (click)=\"deletingQuestion = false\">\r\n          Cancel\r\n        </button>\r\n        <button\r\n          [disabled]=\"!questionDeleteConfirmed\"\r\n          class=\"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-700 disabled:opacity-50\"\r\n          (click)=\"confirmQuestionDelete()\">\r\n          Yes, Delete it\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}