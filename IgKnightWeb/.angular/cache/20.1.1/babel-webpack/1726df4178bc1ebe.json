{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar ContextMenuController_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ActionViewItem } from '../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { Separator, SubmenuAction } from '../../../../base/common/actions.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { isIOS } from '../../../../base/common/platform.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport * as nls from '../../../../nls.js';\nimport { IMenuService, SubmenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IWorkspaceContextService, isStandaloneEditorWorkspace } from '../../../../platform/workspace/common/workspace.js';\nlet ContextMenuController = /*#__PURE__*/(() => {\n  let ContextMenuController = class ContextMenuController {\n    static #_ = ContextMenuController_1 = this;\n    static #_2 = this.ID = 'editor.contrib.contextmenu';\n    static get(editor) {\n      return editor.getContribution(ContextMenuController_1.ID);\n    }\n    constructor(editor, _contextMenuService, _contextViewService, _contextKeyService, _keybindingService, _menuService, _configurationService, _workspaceContextService) {\n      this._contextMenuService = _contextMenuService;\n      this._contextViewService = _contextViewService;\n      this._contextKeyService = _contextKeyService;\n      this._keybindingService = _keybindingService;\n      this._menuService = _menuService;\n      this._configurationService = _configurationService;\n      this._workspaceContextService = _workspaceContextService;\n      this._toDispose = new DisposableStore();\n      this._contextMenuIsBeingShownCount = 0;\n      this._editor = editor;\n      this._toDispose.add(this._editor.onContextMenu(e => this._onContextMenu(e)));\n      this._toDispose.add(this._editor.onMouseWheel(e => {\n        if (this._contextMenuIsBeingShownCount > 0) {\n          const view = this._contextViewService.getContextViewElement();\n          const target = e.srcElement;\n          // Event triggers on shadow root host first\n          // Check if the context view is under this host before hiding it #103169\n          if (!(target.shadowRoot && dom.getShadowRoot(view) === target.shadowRoot)) {\n            this._contextViewService.hideContextView();\n          }\n        }\n      }));\n      this._toDispose.add(this._editor.onKeyDown(e => {\n        if (!this._editor.getOption(24 /* EditorOption.contextmenu */)) {\n          return; // Context menu is turned off through configuration\n        }\n        if (e.keyCode === 58 /* KeyCode.ContextMenu */) {\n          // Chrome is funny like that\n          e.preventDefault();\n          e.stopPropagation();\n          this.showContextMenu();\n        }\n      }));\n    }\n    _onContextMenu(e) {\n      if (!this._editor.hasModel()) {\n        return;\n      }\n      if (!this._editor.getOption(24 /* EditorOption.contextmenu */)) {\n        this._editor.focus();\n        // Ensure the cursor is at the position of the mouse click\n        if (e.target.position && !this._editor.getSelection().containsPosition(e.target.position)) {\n          this._editor.setPosition(e.target.position);\n        }\n        return; // Context menu is turned off through configuration\n      }\n      if (e.target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */) {\n        return; // allow native menu on widgets to support right click on input field for example in find\n      }\n      if (e.target.type === 6 /* MouseTargetType.CONTENT_TEXT */ && e.target.detail.injectedText) {\n        return; // allow native menu on injected text\n      }\n      e.event.preventDefault();\n      e.event.stopPropagation();\n      if (e.target.type === 11 /* MouseTargetType.SCROLLBAR */) {\n        return this._showScrollbarContextMenu(e.event);\n      }\n      if (e.target.type !== 6 /* MouseTargetType.CONTENT_TEXT */ && e.target.type !== 7 /* MouseTargetType.CONTENT_EMPTY */ && e.target.type !== 1 /* MouseTargetType.TEXTAREA */) {\n        return; // only support mouse click into text or native context menu key for now\n      }\n      // Ensure the editor gets focus if it hasn't, so the right events are being sent to other contributions\n      this._editor.focus();\n      // Ensure the cursor is at the position of the mouse click\n      if (e.target.position) {\n        let hasSelectionAtPosition = false;\n        for (const selection of this._editor.getSelections()) {\n          if (selection.containsPosition(e.target.position)) {\n            hasSelectionAtPosition = true;\n            break;\n          }\n        }\n        if (!hasSelectionAtPosition) {\n          this._editor.setPosition(e.target.position);\n        }\n      }\n      // Unless the user triggerd the context menu through Shift+F10, use the mouse position as menu position\n      let anchor = null;\n      if (e.target.type !== 1 /* MouseTargetType.TEXTAREA */) {\n        anchor = e.event;\n      }\n      // Show the context menu\n      this.showContextMenu(anchor);\n    }\n    showContextMenu(anchor) {\n      if (!this._editor.getOption(24 /* EditorOption.contextmenu */)) {\n        return; // Context menu is turned off through configuration\n      }\n      if (!this._editor.hasModel()) {\n        return;\n      }\n      // Find actions available for menu\n      const menuActions = this._getMenuActions(this._editor.getModel(), this._editor.contextMenuId);\n      // Show menu if we have actions to show\n      if (menuActions.length > 0) {\n        this._doShowContextMenu(menuActions, anchor);\n      }\n    }\n    _getMenuActions(model, menuId) {\n      const result = [];\n      // get menu groups\n      const groups = this._menuService.getMenuActions(menuId, this._contextKeyService, {\n        arg: model.uri\n      });\n      // translate them into other actions\n      for (const group of groups) {\n        const [, actions] = group;\n        let addedItems = 0;\n        for (const action of actions) {\n          if (action instanceof SubmenuItemAction) {\n            const subActions = this._getMenuActions(model, action.item.submenu);\n            if (subActions.length > 0) {\n              result.push(new SubmenuAction(action.id, action.label, subActions));\n              addedItems++;\n            }\n          } else {\n            result.push(action);\n            addedItems++;\n          }\n        }\n        if (addedItems) {\n          result.push(new Separator());\n        }\n      }\n      if (result.length) {\n        result.pop(); // remove last separator\n      }\n      return result;\n    }\n    _doShowContextMenu(actions, event = null) {\n      if (!this._editor.hasModel()) {\n        return;\n      }\n      // Disable hover\n      const oldHoverSetting = this._editor.getOption(60 /* EditorOption.hover */);\n      this._editor.updateOptions({\n        hover: {\n          enabled: false\n        }\n      });\n      let anchor = event;\n      if (!anchor) {\n        // Ensure selection is visible\n        this._editor.revealPosition(this._editor.getPosition(), 1 /* ScrollType.Immediate */);\n        this._editor.render();\n        const cursorCoords = this._editor.getScrolledVisiblePosition(this._editor.getPosition());\n        // Translate to absolute editor position\n        const editorCoords = dom.getDomNodePagePosition(this._editor.getDomNode());\n        const posx = editorCoords.left + cursorCoords.left;\n        const posy = editorCoords.top + cursorCoords.top + cursorCoords.height;\n        anchor = {\n          x: posx,\n          y: posy\n        };\n      }\n      const useShadowDOM = this._editor.getOption(128 /* EditorOption.useShadowDOM */) && !isIOS; // Do not use shadow dom on IOS #122035\n      // Show menu\n      this._contextMenuIsBeingShownCount++;\n      this._contextMenuService.showContextMenu({\n        domForShadowRoot: useShadowDOM ? this._editor.getOverflowWidgetsDomNode() ?? this._editor.getDomNode() : undefined,\n        getAnchor: () => anchor,\n        getActions: () => actions,\n        getActionViewItem: action => {\n          const keybinding = this._keybindingFor(action);\n          if (keybinding) {\n            return new ActionViewItem(action, action, {\n              label: true,\n              keybinding: keybinding.getLabel(),\n              isMenu: true\n            });\n          }\n          const customActionViewItem = action;\n          if (typeof customActionViewItem.getActionViewItem === 'function') {\n            return customActionViewItem.getActionViewItem();\n          }\n          return new ActionViewItem(action, action, {\n            icon: true,\n            label: true,\n            isMenu: true\n          });\n        },\n        getKeyBinding: action => {\n          return this._keybindingFor(action);\n        },\n        onHide: wasCancelled => {\n          this._contextMenuIsBeingShownCount--;\n          this._editor.updateOptions({\n            hover: oldHoverSetting\n          });\n        }\n      });\n    }\n    _showScrollbarContextMenu(anchor) {\n      if (!this._editor.hasModel()) {\n        return;\n      }\n      if (isStandaloneEditorWorkspace(this._workspaceContextService.getWorkspace())) {\n        // can't update the configuration properly in the standalone editor\n        return;\n      }\n      const minimapOptions = this._editor.getOption(73 /* EditorOption.minimap */);\n      let lastId = 0;\n      const createAction = opts => {\n        return {\n          id: `menu-action-${++lastId}`,\n          label: opts.label,\n          tooltip: '',\n          class: undefined,\n          enabled: typeof opts.enabled === 'undefined' ? true : opts.enabled,\n          checked: opts.checked,\n          run: opts.run\n        };\n      };\n      const createSubmenuAction = (label, actions) => {\n        return new SubmenuAction(`menu-action-${++lastId}`, label, actions, undefined);\n      };\n      const createEnumAction = (label, enabled, configName, configuredValue, options) => {\n        if (!enabled) {\n          return createAction({\n            label,\n            enabled,\n            run: () => {}\n          });\n        }\n        const createRunner = value => {\n          return () => {\n            this._configurationService.updateValue(configName, value);\n          };\n        };\n        const actions = [];\n        for (const option of options) {\n          actions.push(createAction({\n            label: option.label,\n            checked: configuredValue === option.value,\n            run: createRunner(option.value)\n          }));\n        }\n        return createSubmenuAction(label, actions);\n      };\n      const actions = [];\n      actions.push(createAction({\n        label: nls.localize('context.minimap.minimap', \"Minimap\"),\n        checked: minimapOptions.enabled,\n        run: () => {\n          this._configurationService.updateValue(`editor.minimap.enabled`, !minimapOptions.enabled);\n        }\n      }));\n      actions.push(new Separator());\n      actions.push(createAction({\n        label: nls.localize('context.minimap.renderCharacters', \"Render Characters\"),\n        enabled: minimapOptions.enabled,\n        checked: minimapOptions.renderCharacters,\n        run: () => {\n          this._configurationService.updateValue(`editor.minimap.renderCharacters`, !minimapOptions.renderCharacters);\n        }\n      }));\n      actions.push(createEnumAction(nls.localize('context.minimap.size', \"Vertical size\"), minimapOptions.enabled, 'editor.minimap.size', minimapOptions.size, [{\n        label: nls.localize('context.minimap.size.proportional', \"Proportional\"),\n        value: 'proportional'\n      }, {\n        label: nls.localize('context.minimap.size.fill', \"Fill\"),\n        value: 'fill'\n      }, {\n        label: nls.localize('context.minimap.size.fit', \"Fit\"),\n        value: 'fit'\n      }]));\n      actions.push(createEnumAction(nls.localize('context.minimap.slider', \"Slider\"), minimapOptions.enabled, 'editor.minimap.showSlider', minimapOptions.showSlider, [{\n        label: nls.localize('context.minimap.slider.mouseover', \"Mouse Over\"),\n        value: 'mouseover'\n      }, {\n        label: nls.localize('context.minimap.slider.always', \"Always\"),\n        value: 'always'\n      }]));\n      const useShadowDOM = this._editor.getOption(128 /* EditorOption.useShadowDOM */) && !isIOS; // Do not use shadow dom on IOS #122035\n      this._contextMenuIsBeingShownCount++;\n      this._contextMenuService.showContextMenu({\n        domForShadowRoot: useShadowDOM ? this._editor.getDomNode() : undefined,\n        getAnchor: () => anchor,\n        getActions: () => actions,\n        onHide: wasCancelled => {\n          this._contextMenuIsBeingShownCount--;\n          this._editor.focus();\n        }\n      });\n    }\n    _keybindingFor(action) {\n      return this._keybindingService.lookupKeybinding(action.id);\n    }\n    dispose() {\n      if (this._contextMenuIsBeingShownCount > 0) {\n        this._contextViewService.hideContextView();\n      }\n      this._toDispose.dispose();\n    }\n  };\n  return ContextMenuController;\n})();\nContextMenuController = ContextMenuController_1 = __decorate([__param(1, IContextMenuService), __param(2, IContextViewService), __param(3, IContextKeyService), __param(4, IKeybindingService), __param(5, IMenuService), __param(6, IConfigurationService), __param(7, IWorkspaceContextService)], ContextMenuController);\nexport { ContextMenuController };\nclass ShowContextMenu extends EditorAction {\n  constructor() {\n    super({\n      id: 'editor.action.showContextMenu',\n      label: nls.localize('action.showContextMenu.label', \"Show Editor Context Menu\"),\n      alias: 'Show Editor Context Menu',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.textInputFocus,\n        primary: 1024 /* KeyMod.Shift */ | 68 /* KeyCode.F10 */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }\n    });\n  }\n  run(accessor, editor) {\n    ContextMenuController.get(editor)?.showContextMenu();\n  }\n}\nregisterEditorContribution(ContextMenuController.ID, ContextMenuController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(ShowContextMenu);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","ContextMenuController_1","dom","ActionViewItem","Separator","SubmenuAction","DisposableStore","isIOS","EditorAction","registerEditorAction","registerEditorContribution","EditorContextKeys","nls","IMenuService","SubmenuItemAction","IContextKeyService","IContextMenuService","IContextViewService","IKeybindingService","IConfigurationService","IWorkspaceContextService","isStandaloneEditorWorkspace","ContextMenuController","_","_2","ID","get","editor","getContribution","constructor","_contextMenuService","_contextViewService","_contextKeyService","_keybindingService","_menuService","_configurationService","_workspaceContextService","_toDispose","_contextMenuIsBeingShownCount","_editor","add","onContextMenu","e","_onContextMenu","onMouseWheel","view","getContextViewElement","srcElement","shadowRoot","getShadowRoot","hideContextView","onKeyDown","getOption","keyCode","preventDefault","stopPropagation","showContextMenu","hasModel","focus","position","getSelection","containsPosition","setPosition","type","detail","injectedText","event","_showScrollbarContextMenu","hasSelectionAtPosition","selection","getSelections","anchor","menuActions","_getMenuActions","getModel","contextMenuId","_doShowContextMenu","model","menuId","result","groups","getMenuActions","arg","uri","group","actions","addedItems","action","subActions","item","submenu","push","id","label","pop","oldHoverSetting","updateOptions","hover","enabled","revealPosition","getPosition","render","cursorCoords","getScrolledVisiblePosition","editorCoords","getDomNodePagePosition","getDomNode","posx","left","posy","top","height","x","y","useShadowDOM","domForShadowRoot","getOverflowWidgetsDomNode","undefined","getAnchor","getActions","getActionViewItem","keybinding","_keybindingFor","getLabel","isMenu","customActionViewItem","icon","getKeyBinding","onHide","wasCancelled","getWorkspace","minimapOptions","lastId","createAction","opts","tooltip","class","checked","run","createSubmenuAction","createEnumAction","configName","configuredValue","options","createRunner","value","updateValue","option","localize","renderCharacters","size","showSlider","lookupKeybinding","dispose","ShowContextMenu","alias","precondition","kbOpts","kbExpr","textInputFocus","primary","weight","accessor"],"sources":["C:/Users/abhis/OneDrive/Desktop/IgKnightWeb/IgKnightWeb/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/browser/contextmenu.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ContextMenuController_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ActionViewItem } from '../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { Separator, SubmenuAction } from '../../../../base/common/actions.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { isIOS } from '../../../../base/common/platform.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport * as nls from '../../../../nls.js';\nimport { IMenuService, SubmenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IWorkspaceContextService, isStandaloneEditorWorkspace } from '../../../../platform/workspace/common/workspace.js';\nlet ContextMenuController = class ContextMenuController {\n    static { ContextMenuController_1 = this; }\n    static { this.ID = 'editor.contrib.contextmenu'; }\n    static get(editor) {\n        return editor.getContribution(ContextMenuController_1.ID);\n    }\n    constructor(editor, _contextMenuService, _contextViewService, _contextKeyService, _keybindingService, _menuService, _configurationService, _workspaceContextService) {\n        this._contextMenuService = _contextMenuService;\n        this._contextViewService = _contextViewService;\n        this._contextKeyService = _contextKeyService;\n        this._keybindingService = _keybindingService;\n        this._menuService = _menuService;\n        this._configurationService = _configurationService;\n        this._workspaceContextService = _workspaceContextService;\n        this._toDispose = new DisposableStore();\n        this._contextMenuIsBeingShownCount = 0;\n        this._editor = editor;\n        this._toDispose.add(this._editor.onContextMenu((e) => this._onContextMenu(e)));\n        this._toDispose.add(this._editor.onMouseWheel((e) => {\n            if (this._contextMenuIsBeingShownCount > 0) {\n                const view = this._contextViewService.getContextViewElement();\n                const target = e.srcElement;\n                // Event triggers on shadow root host first\n                // Check if the context view is under this host before hiding it #103169\n                if (!(target.shadowRoot && dom.getShadowRoot(view) === target.shadowRoot)) {\n                    this._contextViewService.hideContextView();\n                }\n            }\n        }));\n        this._toDispose.add(this._editor.onKeyDown((e) => {\n            if (!this._editor.getOption(24 /* EditorOption.contextmenu */)) {\n                return; // Context menu is turned off through configuration\n            }\n            if (e.keyCode === 58 /* KeyCode.ContextMenu */) {\n                // Chrome is funny like that\n                e.preventDefault();\n                e.stopPropagation();\n                this.showContextMenu();\n            }\n        }));\n    }\n    _onContextMenu(e) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        if (!this._editor.getOption(24 /* EditorOption.contextmenu */)) {\n            this._editor.focus();\n            // Ensure the cursor is at the position of the mouse click\n            if (e.target.position && !this._editor.getSelection().containsPosition(e.target.position)) {\n                this._editor.setPosition(e.target.position);\n            }\n            return; // Context menu is turned off through configuration\n        }\n        if (e.target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */) {\n            return; // allow native menu on widgets to support right click on input field for example in find\n        }\n        if (e.target.type === 6 /* MouseTargetType.CONTENT_TEXT */ && e.target.detail.injectedText) {\n            return; // allow native menu on injected text\n        }\n        e.event.preventDefault();\n        e.event.stopPropagation();\n        if (e.target.type === 11 /* MouseTargetType.SCROLLBAR */) {\n            return this._showScrollbarContextMenu(e.event);\n        }\n        if (e.target.type !== 6 /* MouseTargetType.CONTENT_TEXT */ && e.target.type !== 7 /* MouseTargetType.CONTENT_EMPTY */ && e.target.type !== 1 /* MouseTargetType.TEXTAREA */) {\n            return; // only support mouse click into text or native context menu key for now\n        }\n        // Ensure the editor gets focus if it hasn't, so the right events are being sent to other contributions\n        this._editor.focus();\n        // Ensure the cursor is at the position of the mouse click\n        if (e.target.position) {\n            let hasSelectionAtPosition = false;\n            for (const selection of this._editor.getSelections()) {\n                if (selection.containsPosition(e.target.position)) {\n                    hasSelectionAtPosition = true;\n                    break;\n                }\n            }\n            if (!hasSelectionAtPosition) {\n                this._editor.setPosition(e.target.position);\n            }\n        }\n        // Unless the user triggerd the context menu through Shift+F10, use the mouse position as menu position\n        let anchor = null;\n        if (e.target.type !== 1 /* MouseTargetType.TEXTAREA */) {\n            anchor = e.event;\n        }\n        // Show the context menu\n        this.showContextMenu(anchor);\n    }\n    showContextMenu(anchor) {\n        if (!this._editor.getOption(24 /* EditorOption.contextmenu */)) {\n            return; // Context menu is turned off through configuration\n        }\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        // Find actions available for menu\n        const menuActions = this._getMenuActions(this._editor.getModel(), this._editor.contextMenuId);\n        // Show menu if we have actions to show\n        if (menuActions.length > 0) {\n            this._doShowContextMenu(menuActions, anchor);\n        }\n    }\n    _getMenuActions(model, menuId) {\n        const result = [];\n        // get menu groups\n        const groups = this._menuService.getMenuActions(menuId, this._contextKeyService, { arg: model.uri });\n        // translate them into other actions\n        for (const group of groups) {\n            const [, actions] = group;\n            let addedItems = 0;\n            for (const action of actions) {\n                if (action instanceof SubmenuItemAction) {\n                    const subActions = this._getMenuActions(model, action.item.submenu);\n                    if (subActions.length > 0) {\n                        result.push(new SubmenuAction(action.id, action.label, subActions));\n                        addedItems++;\n                    }\n                }\n                else {\n                    result.push(action);\n                    addedItems++;\n                }\n            }\n            if (addedItems) {\n                result.push(new Separator());\n            }\n        }\n        if (result.length) {\n            result.pop(); // remove last separator\n        }\n        return result;\n    }\n    _doShowContextMenu(actions, event = null) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        // Disable hover\n        const oldHoverSetting = this._editor.getOption(60 /* EditorOption.hover */);\n        this._editor.updateOptions({\n            hover: {\n                enabled: false\n            }\n        });\n        let anchor = event;\n        if (!anchor) {\n            // Ensure selection is visible\n            this._editor.revealPosition(this._editor.getPosition(), 1 /* ScrollType.Immediate */);\n            this._editor.render();\n            const cursorCoords = this._editor.getScrolledVisiblePosition(this._editor.getPosition());\n            // Translate to absolute editor position\n            const editorCoords = dom.getDomNodePagePosition(this._editor.getDomNode());\n            const posx = editorCoords.left + cursorCoords.left;\n            const posy = editorCoords.top + cursorCoords.top + cursorCoords.height;\n            anchor = { x: posx, y: posy };\n        }\n        const useShadowDOM = this._editor.getOption(128 /* EditorOption.useShadowDOM */) && !isIOS; // Do not use shadow dom on IOS #122035\n        // Show menu\n        this._contextMenuIsBeingShownCount++;\n        this._contextMenuService.showContextMenu({\n            domForShadowRoot: useShadowDOM ? this._editor.getOverflowWidgetsDomNode() ?? this._editor.getDomNode() : undefined,\n            getAnchor: () => anchor,\n            getActions: () => actions,\n            getActionViewItem: (action) => {\n                const keybinding = this._keybindingFor(action);\n                if (keybinding) {\n                    return new ActionViewItem(action, action, { label: true, keybinding: keybinding.getLabel(), isMenu: true });\n                }\n                const customActionViewItem = action;\n                if (typeof customActionViewItem.getActionViewItem === 'function') {\n                    return customActionViewItem.getActionViewItem();\n                }\n                return new ActionViewItem(action, action, { icon: true, label: true, isMenu: true });\n            },\n            getKeyBinding: (action) => {\n                return this._keybindingFor(action);\n            },\n            onHide: (wasCancelled) => {\n                this._contextMenuIsBeingShownCount--;\n                this._editor.updateOptions({\n                    hover: oldHoverSetting\n                });\n            }\n        });\n    }\n    _showScrollbarContextMenu(anchor) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        if (isStandaloneEditorWorkspace(this._workspaceContextService.getWorkspace())) {\n            // can't update the configuration properly in the standalone editor\n            return;\n        }\n        const minimapOptions = this._editor.getOption(73 /* EditorOption.minimap */);\n        let lastId = 0;\n        const createAction = (opts) => {\n            return {\n                id: `menu-action-${++lastId}`,\n                label: opts.label,\n                tooltip: '',\n                class: undefined,\n                enabled: (typeof opts.enabled === 'undefined' ? true : opts.enabled),\n                checked: opts.checked,\n                run: opts.run\n            };\n        };\n        const createSubmenuAction = (label, actions) => {\n            return new SubmenuAction(`menu-action-${++lastId}`, label, actions, undefined);\n        };\n        const createEnumAction = (label, enabled, configName, configuredValue, options) => {\n            if (!enabled) {\n                return createAction({ label, enabled, run: () => { } });\n            }\n            const createRunner = (value) => {\n                return () => {\n                    this._configurationService.updateValue(configName, value);\n                };\n            };\n            const actions = [];\n            for (const option of options) {\n                actions.push(createAction({\n                    label: option.label,\n                    checked: configuredValue === option.value,\n                    run: createRunner(option.value)\n                }));\n            }\n            return createSubmenuAction(label, actions);\n        };\n        const actions = [];\n        actions.push(createAction({\n            label: nls.localize('context.minimap.minimap', \"Minimap\"),\n            checked: minimapOptions.enabled,\n            run: () => {\n                this._configurationService.updateValue(`editor.minimap.enabled`, !minimapOptions.enabled);\n            }\n        }));\n        actions.push(new Separator());\n        actions.push(createAction({\n            label: nls.localize('context.minimap.renderCharacters', \"Render Characters\"),\n            enabled: minimapOptions.enabled,\n            checked: minimapOptions.renderCharacters,\n            run: () => {\n                this._configurationService.updateValue(`editor.minimap.renderCharacters`, !minimapOptions.renderCharacters);\n            }\n        }));\n        actions.push(createEnumAction(nls.localize('context.minimap.size', \"Vertical size\"), minimapOptions.enabled, 'editor.minimap.size', minimapOptions.size, [{\n                label: nls.localize('context.minimap.size.proportional', \"Proportional\"),\n                value: 'proportional'\n            }, {\n                label: nls.localize('context.minimap.size.fill', \"Fill\"),\n                value: 'fill'\n            }, {\n                label: nls.localize('context.minimap.size.fit', \"Fit\"),\n                value: 'fit'\n            }]));\n        actions.push(createEnumAction(nls.localize('context.minimap.slider', \"Slider\"), minimapOptions.enabled, 'editor.minimap.showSlider', minimapOptions.showSlider, [{\n                label: nls.localize('context.minimap.slider.mouseover', \"Mouse Over\"),\n                value: 'mouseover'\n            }, {\n                label: nls.localize('context.minimap.slider.always', \"Always\"),\n                value: 'always'\n            }]));\n        const useShadowDOM = this._editor.getOption(128 /* EditorOption.useShadowDOM */) && !isIOS; // Do not use shadow dom on IOS #122035\n        this._contextMenuIsBeingShownCount++;\n        this._contextMenuService.showContextMenu({\n            domForShadowRoot: useShadowDOM ? this._editor.getDomNode() : undefined,\n            getAnchor: () => anchor,\n            getActions: () => actions,\n            onHide: (wasCancelled) => {\n                this._contextMenuIsBeingShownCount--;\n                this._editor.focus();\n            }\n        });\n    }\n    _keybindingFor(action) {\n        return this._keybindingService.lookupKeybinding(action.id);\n    }\n    dispose() {\n        if (this._contextMenuIsBeingShownCount > 0) {\n            this._contextViewService.hideContextView();\n        }\n        this._toDispose.dispose();\n    }\n};\nContextMenuController = ContextMenuController_1 = __decorate([\n    __param(1, IContextMenuService),\n    __param(2, IContextViewService),\n    __param(3, IContextKeyService),\n    __param(4, IKeybindingService),\n    __param(5, IMenuService),\n    __param(6, IConfigurationService),\n    __param(7, IWorkspaceContextService)\n], ContextMenuController);\nexport { ContextMenuController };\nclass ShowContextMenu extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.showContextMenu',\n            label: nls.localize('action.showContextMenu.label', \"Show Editor Context Menu\"),\n            alias: 'Show Editor Context Menu',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 1024 /* KeyMod.Shift */ | 68 /* KeyCode.F10 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        ContextMenuController.get(editor)?.showContextMenu();\n    }\n}\nregisterEditorContribution(ContextMenuController.ID, ContextMenuController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(ShowContextMenu);\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,IAAIA,UAAU,GAAI,IAAI,IAAI,IAAI,CAACA,UAAU,IAAK,UAAUC,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,EAAE;EACnF,IAAIC,CAAC,GAAGC,SAAS,CAACC,MAAM;IAAEC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGH,MAAM,GAAGE,IAAI,KAAK,IAAI,GAAGA,IAAI,GAAGK,MAAM,CAACC,wBAAwB,CAACR,MAAM,EAAEC,GAAG,CAAC,GAAGC,IAAI;IAAEO,CAAC;EAC5H,IAAI,OAAOC,OAAO,KAAK,QAAQ,IAAI,OAAOA,OAAO,CAACC,QAAQ,KAAK,UAAU,EAAEL,CAAC,GAAGI,OAAO,CAACC,QAAQ,CAACZ,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,CAAC,CAAC,KAC1H,KAAK,IAAIU,CAAC,GAAGb,UAAU,CAACM,MAAM,GAAG,CAAC,EAAEO,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAIH,CAAC,GAAGV,UAAU,CAACa,CAAC,CAAC,EAAEN,CAAC,GAAG,CAACH,CAAC,GAAG,CAAC,GAAGM,CAAC,CAACH,CAAC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGM,CAAC,CAACT,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,GAAGG,CAAC,CAACT,MAAM,EAAEC,GAAG,CAAC,KAAKK,CAAC;EACjJ,OAAOH,CAAC,GAAG,CAAC,IAAIG,CAAC,IAAIC,MAAM,CAACM,cAAc,CAACb,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,EAAEA,CAAC;AACjE,CAAC;AACD,IAAIQ,OAAO,GAAI,IAAI,IAAI,IAAI,CAACA,OAAO,IAAK,UAAUC,UAAU,EAAEC,SAAS,EAAE;EACrE,OAAO,UAAUhB,MAAM,EAAEC,GAAG,EAAE;IAAEe,SAAS,CAAChB,MAAM,EAAEC,GAAG,EAAEc,UAAU,CAAC;EAAE,CAAC;AACzE,CAAC;AACD,IAAIE,uBAAuB;AAC3B,OAAO,KAAKC,GAAG,MAAM,iCAAiC;AACtD,SAASC,cAAc,QAAQ,0DAA0D;AACzF,SAASC,SAAS,EAAEC,aAAa,QAAQ,oCAAoC;AAC7E,SAASC,eAAe,QAAQ,sCAAsC;AACtE,SAASC,KAAK,QAAQ,qCAAqC;AAC3D,SAASC,YAAY,EAAEC,oBAAoB,EAAEC,0BAA0B,QAAQ,sCAAsC;AACrH,SAASC,iBAAiB,QAAQ,sCAAsC;AACxE,OAAO,KAAKC,GAAG,MAAM,oBAAoB;AACzC,SAASC,YAAY,EAAEC,iBAAiB,QAAQ,gDAAgD;AAChG,SAASC,kBAAkB,QAAQ,sDAAsD;AACzF,SAASC,mBAAmB,EAAEC,mBAAmB,QAAQ,yDAAyD;AAClH,SAASC,kBAAkB,QAAQ,sDAAsD;AACzF,SAASC,qBAAqB,QAAQ,4DAA4D;AAClG,SAASC,wBAAwB,EAAEC,2BAA2B,QAAQ,oDAAoD;AAC1H,IAAIC,qBAAqB;EAAA,IAArBA,qBAAqB,GAAG,MAAMA,qBAAqB,CAAC;IAAA,QAAAC,CAAA,GAC3CtB,uBAAuB,GAAG,IAAI;IAAA,QAAAuB,EAAA,GAC9B,IAAI,CAACC,EAAE,GAAG,4BAA4B;IAC/C,OAAOC,GAAGA,CAACC,MAAM,EAAE;MACf,OAAOA,MAAM,CAACC,eAAe,CAAC3B,uBAAuB,CAACwB,EAAE,CAAC;IAC7D;IACAI,WAAWA,CAACF,MAAM,EAAEG,mBAAmB,EAAEC,mBAAmB,EAAEC,kBAAkB,EAAEC,kBAAkB,EAAEC,YAAY,EAAEC,qBAAqB,EAAEC,wBAAwB,EAAE;MACjK,IAAI,CAACN,mBAAmB,GAAGA,mBAAmB;MAC9C,IAAI,CAACC,mBAAmB,GAAGA,mBAAmB;MAC9C,IAAI,CAACC,kBAAkB,GAAGA,kBAAkB;MAC5C,IAAI,CAACC,kBAAkB,GAAGA,kBAAkB;MAC5C,IAAI,CAACC,YAAY,GAAGA,YAAY;MAChC,IAAI,CAACC,qBAAqB,GAAGA,qBAAqB;MAClD,IAAI,CAACC,wBAAwB,GAAGA,wBAAwB;MACxD,IAAI,CAACC,UAAU,GAAG,IAAI/B,eAAe,CAAC,CAAC;MACvC,IAAI,CAACgC,6BAA6B,GAAG,CAAC;MACtC,IAAI,CAACC,OAAO,GAAGZ,MAAM;MACrB,IAAI,CAACU,UAAU,CAACG,GAAG,CAAC,IAAI,CAACD,OAAO,CAACE,aAAa,CAAEC,CAAC,IAAK,IAAI,CAACC,cAAc,CAACD,CAAC,CAAC,CAAC,CAAC;MAC9E,IAAI,CAACL,UAAU,CAACG,GAAG,CAAC,IAAI,CAACD,OAAO,CAACK,YAAY,CAAEF,CAAC,IAAK;QACjD,IAAI,IAAI,CAACJ,6BAA6B,GAAG,CAAC,EAAE;UACxC,MAAMO,IAAI,GAAG,IAAI,CAACd,mBAAmB,CAACe,qBAAqB,CAAC,CAAC;UAC7D,MAAM9D,MAAM,GAAG0D,CAAC,CAACK,UAAU;UAC3B;UACA;UACA,IAAI,EAAE/D,MAAM,CAACgE,UAAU,IAAI9C,GAAG,CAAC+C,aAAa,CAACJ,IAAI,CAAC,KAAK7D,MAAM,CAACgE,UAAU,CAAC,EAAE;YACvE,IAAI,CAACjB,mBAAmB,CAACmB,eAAe,CAAC,CAAC;UAC9C;QACJ;MACJ,CAAC,CAAC,CAAC;MACH,IAAI,CAACb,UAAU,CAACG,GAAG,CAAC,IAAI,CAACD,OAAO,CAACY,SAAS,CAAET,CAAC,IAAK;QAC9C,IAAI,CAAC,IAAI,CAACH,OAAO,CAACa,SAAS,CAAC,EAAE,CAAC,8BAA8B,CAAC,EAAE;UAC5D,OAAO,CAAC;QACZ;QACA,IAAIV,CAAC,CAACW,OAAO,KAAK,EAAE,CAAC,2BAA2B;UAC5C;UACAX,CAAC,CAACY,cAAc,CAAC,CAAC;UAClBZ,CAAC,CAACa,eAAe,CAAC,CAAC;UACnB,IAAI,CAACC,eAAe,CAAC,CAAC;QAC1B;MACJ,CAAC,CAAC,CAAC;IACP;IACAb,cAAcA,CAACD,CAAC,EAAE;MACd,IAAI,CAAC,IAAI,CAACH,OAAO,CAACkB,QAAQ,CAAC,CAAC,EAAE;QAC1B;MACJ;MACA,IAAI,CAAC,IAAI,CAAClB,OAAO,CAACa,SAAS,CAAC,EAAE,CAAC,8BAA8B,CAAC,EAAE;QAC5D,IAAI,CAACb,OAAO,CAACmB,KAAK,CAAC,CAAC;QACpB;QACA,IAAIhB,CAAC,CAAC1D,MAAM,CAAC2E,QAAQ,IAAI,CAAC,IAAI,CAACpB,OAAO,CAACqB,YAAY,CAAC,CAAC,CAACC,gBAAgB,CAACnB,CAAC,CAAC1D,MAAM,CAAC2E,QAAQ,CAAC,EAAE;UACvF,IAAI,CAACpB,OAAO,CAACuB,WAAW,CAACpB,CAAC,CAAC1D,MAAM,CAAC2E,QAAQ,CAAC;QAC/C;QACA,OAAO,CAAC;MACZ;MACA,IAAIjB,CAAC,CAAC1D,MAAM,CAAC+E,IAAI,KAAK,EAAE,CAAC,sCAAsC;QAC3D,OAAO,CAAC;MACZ;MACA,IAAIrB,CAAC,CAAC1D,MAAM,CAAC+E,IAAI,KAAK,CAAC,CAAC,sCAAsCrB,CAAC,CAAC1D,MAAM,CAACgF,MAAM,CAACC,YAAY,EAAE;QACxF,OAAO,CAAC;MACZ;MACAvB,CAAC,CAACwB,KAAK,CAACZ,cAAc,CAAC,CAAC;MACxBZ,CAAC,CAACwB,KAAK,CAACX,eAAe,CAAC,CAAC;MACzB,IAAIb,CAAC,CAAC1D,MAAM,CAAC+E,IAAI,KAAK,EAAE,CAAC,iCAAiC;QACtD,OAAO,IAAI,CAACI,yBAAyB,CAACzB,CAAC,CAACwB,KAAK,CAAC;MAClD;MACA,IAAIxB,CAAC,CAAC1D,MAAM,CAAC+E,IAAI,KAAK,CAAC,CAAC,sCAAsCrB,CAAC,CAAC1D,MAAM,CAAC+E,IAAI,KAAK,CAAC,CAAC,uCAAuCrB,CAAC,CAAC1D,MAAM,CAAC+E,IAAI,KAAK,CAAC,CAAC,gCAAgC;QACzK,OAAO,CAAC;MACZ;MACA;MACA,IAAI,CAACxB,OAAO,CAACmB,KAAK,CAAC,CAAC;MACpB;MACA,IAAIhB,CAAC,CAAC1D,MAAM,CAAC2E,QAAQ,EAAE;QACnB,IAAIS,sBAAsB,GAAG,KAAK;QAClC,KAAK,MAAMC,SAAS,IAAI,IAAI,CAAC9B,OAAO,CAAC+B,aAAa,CAAC,CAAC,EAAE;UAClD,IAAID,SAAS,CAACR,gBAAgB,CAACnB,CAAC,CAAC1D,MAAM,CAAC2E,QAAQ,CAAC,EAAE;YAC/CS,sBAAsB,GAAG,IAAI;YAC7B;UACJ;QACJ;QACA,IAAI,CAACA,sBAAsB,EAAE;UACzB,IAAI,CAAC7B,OAAO,CAACuB,WAAW,CAACpB,CAAC,CAAC1D,MAAM,CAAC2E,QAAQ,CAAC;QAC/C;MACJ;MACA;MACA,IAAIY,MAAM,GAAG,IAAI;MACjB,IAAI7B,CAAC,CAAC1D,MAAM,CAAC+E,IAAI,KAAK,CAAC,CAAC,gCAAgC;QACpDQ,MAAM,GAAG7B,CAAC,CAACwB,KAAK;MACpB;MACA;MACA,IAAI,CAACV,eAAe,CAACe,MAAM,CAAC;IAChC;IACAf,eAAeA,CAACe,MAAM,EAAE;MACpB,IAAI,CAAC,IAAI,CAAChC,OAAO,CAACa,SAAS,CAAC,EAAE,CAAC,8BAA8B,CAAC,EAAE;QAC5D,OAAO,CAAC;MACZ;MACA,IAAI,CAAC,IAAI,CAACb,OAAO,CAACkB,QAAQ,CAAC,CAAC,EAAE;QAC1B;MACJ;MACA;MACA,MAAMe,WAAW,GAAG,IAAI,CAACC,eAAe,CAAC,IAAI,CAAClC,OAAO,CAACmC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAACnC,OAAO,CAACoC,aAAa,CAAC;MAC7F;MACA,IAAIH,WAAW,CAACnF,MAAM,GAAG,CAAC,EAAE;QACxB,IAAI,CAACuF,kBAAkB,CAACJ,WAAW,EAAED,MAAM,CAAC;MAChD;IACJ;IACAE,eAAeA,CAACI,KAAK,EAAEC,MAAM,EAAE;MAC3B,MAAMC,MAAM,GAAG,EAAE;MACjB;MACA,MAAMC,MAAM,GAAG,IAAI,CAAC9C,YAAY,CAAC+C,cAAc,CAACH,MAAM,EAAE,IAAI,CAAC9C,kBAAkB,EAAE;QAAEkD,GAAG,EAAEL,KAAK,CAACM;MAAI,CAAC,CAAC;MACpG;MACA,KAAK,MAAMC,KAAK,IAAIJ,MAAM,EAAE;QACxB,MAAM,GAAGK,OAAO,CAAC,GAAGD,KAAK;QACzB,IAAIE,UAAU,GAAG,CAAC;QAClB,KAAK,MAAMC,MAAM,IAAIF,OAAO,EAAE;UAC1B,IAAIE,MAAM,YAAYzE,iBAAiB,EAAE;YACrC,MAAM0E,UAAU,GAAG,IAAI,CAACf,eAAe,CAACI,KAAK,EAAEU,MAAM,CAACE,IAAI,CAACC,OAAO,CAAC;YACnE,IAAIF,UAAU,CAACnG,MAAM,GAAG,CAAC,EAAE;cACvB0F,MAAM,CAACY,IAAI,CAAC,IAAItF,aAAa,CAACkF,MAAM,CAACK,EAAE,EAAEL,MAAM,CAACM,KAAK,EAAEL,UAAU,CAAC,CAAC;cACnEF,UAAU,EAAE;YAChB;UACJ,CAAC,MACI;YACDP,MAAM,CAACY,IAAI,CAACJ,MAAM,CAAC;YACnBD,UAAU,EAAE;UAChB;QACJ;QACA,IAAIA,UAAU,EAAE;UACZP,MAAM,CAACY,IAAI,CAAC,IAAIvF,SAAS,CAAC,CAAC,CAAC;QAChC;MACJ;MACA,IAAI2E,MAAM,CAAC1F,MAAM,EAAE;QACf0F,MAAM,CAACe,GAAG,CAAC,CAAC,CAAC,CAAC;MAClB;MACA,OAAOf,MAAM;IACjB;IACAH,kBAAkBA,CAACS,OAAO,EAAEnB,KAAK,GAAG,IAAI,EAAE;MACtC,IAAI,CAAC,IAAI,CAAC3B,OAAO,CAACkB,QAAQ,CAAC,CAAC,EAAE;QAC1B;MACJ;MACA;MACA,MAAMsC,eAAe,GAAG,IAAI,CAACxD,OAAO,CAACa,SAAS,CAAC,EAAE,CAAC,wBAAwB,CAAC;MAC3E,IAAI,CAACb,OAAO,CAACyD,aAAa,CAAC;QACvBC,KAAK,EAAE;UACHC,OAAO,EAAE;QACb;MACJ,CAAC,CAAC;MACF,IAAI3B,MAAM,GAAGL,KAAK;MAClB,IAAI,CAACK,MAAM,EAAE;QACT;QACA,IAAI,CAAChC,OAAO,CAAC4D,cAAc,CAAC,IAAI,CAAC5D,OAAO,CAAC6D,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,0BAA0B,CAAC;QACrF,IAAI,CAAC7D,OAAO,CAAC8D,MAAM,CAAC,CAAC;QACrB,MAAMC,YAAY,GAAG,IAAI,CAAC/D,OAAO,CAACgE,0BAA0B,CAAC,IAAI,CAAChE,OAAO,CAAC6D,WAAW,CAAC,CAAC,CAAC;QACxF;QACA,MAAMI,YAAY,GAAGtG,GAAG,CAACuG,sBAAsB,CAAC,IAAI,CAAClE,OAAO,CAACmE,UAAU,CAAC,CAAC,CAAC;QAC1E,MAAMC,IAAI,GAAGH,YAAY,CAACI,IAAI,GAAGN,YAAY,CAACM,IAAI;QAClD,MAAMC,IAAI,GAAGL,YAAY,CAACM,GAAG,GAAGR,YAAY,CAACQ,GAAG,GAAGR,YAAY,CAACS,MAAM;QACtExC,MAAM,GAAG;UAAEyC,CAAC,EAAEL,IAAI;UAAEM,CAAC,EAAEJ;QAAK,CAAC;MACjC;MACA,MAAMK,YAAY,GAAG,IAAI,CAAC3E,OAAO,CAACa,SAAS,CAAC,GAAG,CAAC,+BAA+B,CAAC,IAAI,CAAC7C,KAAK,CAAC,CAAC;MAC5F;MACA,IAAI,CAAC+B,6BAA6B,EAAE;MACpC,IAAI,CAACR,mBAAmB,CAAC0B,eAAe,CAAC;QACrC2D,gBAAgB,EAAED,YAAY,GAAG,IAAI,CAAC3E,OAAO,CAAC6E,yBAAyB,CAAC,CAAC,IAAI,IAAI,CAAC7E,OAAO,CAACmE,UAAU,CAAC,CAAC,GAAGW,SAAS;QAClHC,SAAS,EAAEA,CAAA,KAAM/C,MAAM;QACvBgD,UAAU,EAAEA,CAAA,KAAMlC,OAAO;QACzBmC,iBAAiB,EAAGjC,MAAM,IAAK;UAC3B,MAAMkC,UAAU,GAAG,IAAI,CAACC,cAAc,CAACnC,MAAM,CAAC;UAC9C,IAAIkC,UAAU,EAAE;YACZ,OAAO,IAAItH,cAAc,CAACoF,MAAM,EAAEA,MAAM,EAAE;cAAEM,KAAK,EAAE,IAAI;cAAE4B,UAAU,EAAEA,UAAU,CAACE,QAAQ,CAAC,CAAC;cAAEC,MAAM,EAAE;YAAK,CAAC,CAAC;UAC/G;UACA,MAAMC,oBAAoB,GAAGtC,MAAM;UACnC,IAAI,OAAOsC,oBAAoB,CAACL,iBAAiB,KAAK,UAAU,EAAE;YAC9D,OAAOK,oBAAoB,CAACL,iBAAiB,CAAC,CAAC;UACnD;UACA,OAAO,IAAIrH,cAAc,CAACoF,MAAM,EAAEA,MAAM,EAAE;YAAEuC,IAAI,EAAE,IAAI;YAAEjC,KAAK,EAAE,IAAI;YAAE+B,MAAM,EAAE;UAAK,CAAC,CAAC;QACxF,CAAC;QACDG,aAAa,EAAGxC,MAAM,IAAK;UACvB,OAAO,IAAI,CAACmC,cAAc,CAACnC,MAAM,CAAC;QACtC,CAAC;QACDyC,MAAM,EAAGC,YAAY,IAAK;UACtB,IAAI,CAAC3F,6BAA6B,EAAE;UACpC,IAAI,CAACC,OAAO,CAACyD,aAAa,CAAC;YACvBC,KAAK,EAAEF;UACX,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;IACN;IACA5B,yBAAyBA,CAACI,MAAM,EAAE;MAC9B,IAAI,CAAC,IAAI,CAAChC,OAAO,CAACkB,QAAQ,CAAC,CAAC,EAAE;QAC1B;MACJ;MACA,IAAIpC,2BAA2B,CAAC,IAAI,CAACe,wBAAwB,CAAC8F,YAAY,CAAC,CAAC,CAAC,EAAE;QAC3E;QACA;MACJ;MACA,MAAMC,cAAc,GAAG,IAAI,CAAC5F,OAAO,CAACa,SAAS,CAAC,EAAE,CAAC,0BAA0B,CAAC;MAC5E,IAAIgF,MAAM,GAAG,CAAC;MACd,MAAMC,YAAY,GAAIC,IAAI,IAAK;QAC3B,OAAO;UACH1C,EAAE,EAAE,eAAe,EAAEwC,MAAM,EAAE;UAC7BvC,KAAK,EAAEyC,IAAI,CAACzC,KAAK;UACjB0C,OAAO,EAAE,EAAE;UACXC,KAAK,EAAEnB,SAAS;UAChBnB,OAAO,EAAG,OAAOoC,IAAI,CAACpC,OAAO,KAAK,WAAW,GAAG,IAAI,GAAGoC,IAAI,CAACpC,OAAQ;UACpEuC,OAAO,EAAEH,IAAI,CAACG,OAAO;UACrBC,GAAG,EAAEJ,IAAI,CAACI;QACd,CAAC;MACL,CAAC;MACD,MAAMC,mBAAmB,GAAGA,CAAC9C,KAAK,EAAER,OAAO,KAAK;QAC5C,OAAO,IAAIhF,aAAa,CAAC,eAAe,EAAE+H,MAAM,EAAE,EAAEvC,KAAK,EAAER,OAAO,EAAEgC,SAAS,CAAC;MAClF,CAAC;MACD,MAAMuB,gBAAgB,GAAGA,CAAC/C,KAAK,EAAEK,OAAO,EAAE2C,UAAU,EAAEC,eAAe,EAAEC,OAAO,KAAK;QAC/E,IAAI,CAAC7C,OAAO,EAAE;UACV,OAAOmC,YAAY,CAAC;YAAExC,KAAK;YAAEK,OAAO;YAAEwC,GAAG,EAAEA,CAAA,KAAM,CAAE;UAAE,CAAC,CAAC;QAC3D;QACA,MAAMM,YAAY,GAAIC,KAAK,IAAK;UAC5B,OAAO,MAAM;YACT,IAAI,CAAC9G,qBAAqB,CAAC+G,WAAW,CAACL,UAAU,EAAEI,KAAK,CAAC;UAC7D,CAAC;QACL,CAAC;QACD,MAAM5D,OAAO,GAAG,EAAE;QAClB,KAAK,MAAM8D,MAAM,IAAIJ,OAAO,EAAE;UAC1B1D,OAAO,CAACM,IAAI,CAAC0C,YAAY,CAAC;YACtBxC,KAAK,EAAEsD,MAAM,CAACtD,KAAK;YACnB4C,OAAO,EAAEK,eAAe,KAAKK,MAAM,CAACF,KAAK;YACzCP,GAAG,EAAEM,YAAY,CAACG,MAAM,CAACF,KAAK;UAClC,CAAC,CAAC,CAAC;QACP;QACA,OAAON,mBAAmB,CAAC9C,KAAK,EAAER,OAAO,CAAC;MAC9C,CAAC;MACD,MAAMA,OAAO,GAAG,EAAE;MAClBA,OAAO,CAACM,IAAI,CAAC0C,YAAY,CAAC;QACtBxC,KAAK,EAAEjF,GAAG,CAACwI,QAAQ,CAAC,yBAAyB,EAAE,SAAS,CAAC;QACzDX,OAAO,EAAEN,cAAc,CAACjC,OAAO;QAC/BwC,GAAG,EAAEA,CAAA,KAAM;UACP,IAAI,CAACvG,qBAAqB,CAAC+G,WAAW,CAAC,wBAAwB,EAAE,CAACf,cAAc,CAACjC,OAAO,CAAC;QAC7F;MACJ,CAAC,CAAC,CAAC;MACHb,OAAO,CAACM,IAAI,CAAC,IAAIvF,SAAS,CAAC,CAAC,CAAC;MAC7BiF,OAAO,CAACM,IAAI,CAAC0C,YAAY,CAAC;QACtBxC,KAAK,EAAEjF,GAAG,CAACwI,QAAQ,CAAC,kCAAkC,EAAE,mBAAmB,CAAC;QAC5ElD,OAAO,EAAEiC,cAAc,CAACjC,OAAO;QAC/BuC,OAAO,EAAEN,cAAc,CAACkB,gBAAgB;QACxCX,GAAG,EAAEA,CAAA,KAAM;UACP,IAAI,CAACvG,qBAAqB,CAAC+G,WAAW,CAAC,iCAAiC,EAAE,CAACf,cAAc,CAACkB,gBAAgB,CAAC;QAC/G;MACJ,CAAC,CAAC,CAAC;MACHhE,OAAO,CAACM,IAAI,CAACiD,gBAAgB,CAAChI,GAAG,CAACwI,QAAQ,CAAC,sBAAsB,EAAE,eAAe,CAAC,EAAEjB,cAAc,CAACjC,OAAO,EAAE,qBAAqB,EAAEiC,cAAc,CAACmB,IAAI,EAAE,CAAC;QAClJzD,KAAK,EAAEjF,GAAG,CAACwI,QAAQ,CAAC,mCAAmC,EAAE,cAAc,CAAC;QACxEH,KAAK,EAAE;MACX,CAAC,EAAE;QACCpD,KAAK,EAAEjF,GAAG,CAACwI,QAAQ,CAAC,2BAA2B,EAAE,MAAM,CAAC;QACxDH,KAAK,EAAE;MACX,CAAC,EAAE;QACCpD,KAAK,EAAEjF,GAAG,CAACwI,QAAQ,CAAC,0BAA0B,EAAE,KAAK,CAAC;QACtDH,KAAK,EAAE;MACX,CAAC,CAAC,CAAC,CAAC;MACR5D,OAAO,CAACM,IAAI,CAACiD,gBAAgB,CAAChI,GAAG,CAACwI,QAAQ,CAAC,wBAAwB,EAAE,QAAQ,CAAC,EAAEjB,cAAc,CAACjC,OAAO,EAAE,2BAA2B,EAAEiC,cAAc,CAACoB,UAAU,EAAE,CAAC;QACzJ1D,KAAK,EAAEjF,GAAG,CAACwI,QAAQ,CAAC,kCAAkC,EAAE,YAAY,CAAC;QACrEH,KAAK,EAAE;MACX,CAAC,EAAE;QACCpD,KAAK,EAAEjF,GAAG,CAACwI,QAAQ,CAAC,+BAA+B,EAAE,QAAQ,CAAC;QAC9DH,KAAK,EAAE;MACX,CAAC,CAAC,CAAC,CAAC;MACR,MAAM/B,YAAY,GAAG,IAAI,CAAC3E,OAAO,CAACa,SAAS,CAAC,GAAG,CAAC,+BAA+B,CAAC,IAAI,CAAC7C,KAAK,CAAC,CAAC;MAC5F,IAAI,CAAC+B,6BAA6B,EAAE;MACpC,IAAI,CAACR,mBAAmB,CAAC0B,eAAe,CAAC;QACrC2D,gBAAgB,EAAED,YAAY,GAAG,IAAI,CAAC3E,OAAO,CAACmE,UAAU,CAAC,CAAC,GAAGW,SAAS;QACtEC,SAAS,EAAEA,CAAA,KAAM/C,MAAM;QACvBgD,UAAU,EAAEA,CAAA,KAAMlC,OAAO;QACzB2C,MAAM,EAAGC,YAAY,IAAK;UACtB,IAAI,CAAC3F,6BAA6B,EAAE;UACpC,IAAI,CAACC,OAAO,CAACmB,KAAK,CAAC,CAAC;QACxB;MACJ,CAAC,CAAC;IACN;IACAgE,cAAcA,CAACnC,MAAM,EAAE;MACnB,OAAO,IAAI,CAACtD,kBAAkB,CAACuH,gBAAgB,CAACjE,MAAM,CAACK,EAAE,CAAC;IAC9D;IACA6D,OAAOA,CAAA,EAAG;MACN,IAAI,IAAI,CAACnH,6BAA6B,GAAG,CAAC,EAAE;QACxC,IAAI,CAACP,mBAAmB,CAACmB,eAAe,CAAC,CAAC;MAC9C;MACA,IAAI,CAACb,UAAU,CAACoH,OAAO,CAAC,CAAC;IAC7B;EACJ,CAAC;EAAA,OA5RGnI,qBAAqB;AAAA,IA4RxB;AACDA,qBAAqB,GAAGrB,uBAAuB,GAAGnB,UAAU,CAAC,CACzDgB,OAAO,CAAC,CAAC,EAAEkB,mBAAmB,CAAC,EAC/BlB,OAAO,CAAC,CAAC,EAAEmB,mBAAmB,CAAC,EAC/BnB,OAAO,CAAC,CAAC,EAAEiB,kBAAkB,CAAC,EAC9BjB,OAAO,CAAC,CAAC,EAAEoB,kBAAkB,CAAC,EAC9BpB,OAAO,CAAC,CAAC,EAAEe,YAAY,CAAC,EACxBf,OAAO,CAAC,CAAC,EAAEqB,qBAAqB,CAAC,EACjCrB,OAAO,CAAC,CAAC,EAAEsB,wBAAwB,CAAC,CACvC,EAAEE,qBAAqB,CAAC;AACzB,SAASA,qBAAqB;AAC9B,MAAMoI,eAAe,SAASlJ,YAAY,CAAC;EACvCqB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF+D,EAAE,EAAE,+BAA+B;MACnCC,KAAK,EAAEjF,GAAG,CAACwI,QAAQ,CAAC,8BAA8B,EAAE,0BAA0B,CAAC;MAC/EO,KAAK,EAAE,0BAA0B;MACjCC,YAAY,EAAEvC,SAAS;MACvBwC,MAAM,EAAE;QACJC,MAAM,EAAEnJ,iBAAiB,CAACoJ,cAAc;QACxCC,OAAO,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;QACtCC,MAAM,EAAE,GAAG,CAAC;MAChB;IACJ,CAAC,CAAC;EACN;EACAvB,GAAGA,CAACwB,QAAQ,EAAEvI,MAAM,EAAE;IAClBL,qBAAqB,CAACI,GAAG,CAACC,MAAM,CAAC,EAAE6B,eAAe,CAAC,CAAC;EACxD;AACJ;AACA9C,0BAA0B,CAACY,qBAAqB,CAACG,EAAE,EAAEH,qBAAqB,EAAE,CAAC,CAAC,4DAA4D,CAAC;AAC3Ib,oBAAoB,CAACiJ,eAAe,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}