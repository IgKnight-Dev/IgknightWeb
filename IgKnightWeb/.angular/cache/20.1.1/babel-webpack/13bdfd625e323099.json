{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/abhis/OneDrive/Desktop/IgKnightWeb/IgKnightWeb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { illegalArgument, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class CodeLensModel {\n  constructor() {\n    this.lenses = [];\n    this._disposables = new DisposableStore();\n  }\n  dispose() {\n    this._disposables.dispose();\n  }\n  get isDisposed() {\n    return this._disposables.isDisposed;\n  }\n  add(list, provider) {\n    this._disposables.add(list);\n    for (const symbol of list.lenses) {\n      this.lenses.push({\n        symbol,\n        provider\n      });\n    }\n  }\n}\nexport function getCodeLensModel(_x, _x2, _x3) {\n  return _getCodeLensModel.apply(this, arguments);\n}\nfunction _getCodeLensModel() {\n  _getCodeLensModel = _asyncToGenerator(function* (registry, model, token) {\n    const provider = registry.ordered(model);\n    const providerRanks = new Map();\n    const result = new CodeLensModel();\n    const promises = provider.map(/*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (provider, i) {\n        providerRanks.set(provider, i);\n        try {\n          const list = yield Promise.resolve(provider.provideCodeLenses(model, token));\n          if (list) {\n            result.add(list, provider);\n          }\n        } catch (err) {\n          onUnexpectedExternalError(err);\n        }\n      });\n      return function (_x4, _x5) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    yield Promise.all(promises);\n    result.lenses = result.lenses.sort((a, b) => {\n      // sort by lineNumber, provider-rank, and column\n      if (a.symbol.range.startLineNumber < b.symbol.range.startLineNumber) {\n        return -1;\n      } else if (a.symbol.range.startLineNumber > b.symbol.range.startLineNumber) {\n        return 1;\n      } else if (providerRanks.get(a.provider) < providerRanks.get(b.provider)) {\n        return -1;\n      } else if (providerRanks.get(a.provider) > providerRanks.get(b.provider)) {\n        return 1;\n      } else if (a.symbol.range.startColumn < b.symbol.range.startColumn) {\n        return -1;\n      } else if (a.symbol.range.startColumn > b.symbol.range.startColumn) {\n        return 1;\n      } else {\n        return 0;\n      }\n    });\n    return result;\n  });\n  return _getCodeLensModel.apply(this, arguments);\n}\nCommandsRegistry.registerCommand('_executeCodeLensProvider', function (accessor, ...args) {\n  let [uri, itemResolveCount] = args;\n  assertType(URI.isUri(uri));\n  assertType(typeof itemResolveCount === 'number' || !itemResolveCount);\n  const {\n    codeLensProvider\n  } = accessor.get(ILanguageFeaturesService);\n  const model = accessor.get(IModelService).getModel(uri);\n  if (!model) {\n    throw illegalArgument();\n  }\n  const result = [];\n  const disposables = new DisposableStore();\n  return getCodeLensModel(codeLensProvider, model, CancellationToken.None).then(value => {\n    disposables.add(value);\n    const resolve = [];\n    for (const item of value.lenses) {\n      if (itemResolveCount === undefined || itemResolveCount === null || Boolean(item.symbol.command)) {\n        result.push(item.symbol);\n      } else if (itemResolveCount-- > 0 && item.provider.resolveCodeLens) {\n        resolve.push(Promise.resolve(item.provider.resolveCodeLens(model, item.symbol, CancellationToken.None)).then(symbol => result.push(symbol || item.symbol)));\n      }\n    }\n    return Promise.all(resolve);\n  }).then(() => {\n    return result;\n  }).finally(() => {\n    // make sure to return results, then (on next tick)\n    // dispose the results\n    setTimeout(() => disposables.dispose(), 100);\n  });\n});","map":{"version":3,"names":["CancellationToken","illegalArgument","onUnexpectedExternalError","DisposableStore","assertType","URI","IModelService","CommandsRegistry","ILanguageFeaturesService","CodeLensModel","constructor","lenses","_disposables","dispose","isDisposed","add","list","provider","symbol","push","getCodeLensModel","_x","_x2","_x3","_getCodeLensModel","apply","arguments","_asyncToGenerator","registry","model","token","ordered","providerRanks","Map","result","promises","map","_ref","i","set","Promise","resolve","provideCodeLenses","err","_x4","_x5","all","sort","a","b","range","startLineNumber","get","startColumn","registerCommand","accessor","args","uri","itemResolveCount","isUri","codeLensProvider","getModel","disposables","None","then","value","item","undefined","Boolean","command","resolveCodeLens","finally","setTimeout"],"sources":["C:/Users/abhis/OneDrive/Desktop/IgKnightWeb/IgKnightWeb/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/browser/codelens.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { illegalArgument, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class CodeLensModel {\n    constructor() {\n        this.lenses = [];\n        this._disposables = new DisposableStore();\n    }\n    dispose() {\n        this._disposables.dispose();\n    }\n    get isDisposed() {\n        return this._disposables.isDisposed;\n    }\n    add(list, provider) {\n        this._disposables.add(list);\n        for (const symbol of list.lenses) {\n            this.lenses.push({ symbol, provider });\n        }\n    }\n}\nexport async function getCodeLensModel(registry, model, token) {\n    const provider = registry.ordered(model);\n    const providerRanks = new Map();\n    const result = new CodeLensModel();\n    const promises = provider.map(async (provider, i) => {\n        providerRanks.set(provider, i);\n        try {\n            const list = await Promise.resolve(provider.provideCodeLenses(model, token));\n            if (list) {\n                result.add(list, provider);\n            }\n        }\n        catch (err) {\n            onUnexpectedExternalError(err);\n        }\n    });\n    await Promise.all(promises);\n    result.lenses = result.lenses.sort((a, b) => {\n        // sort by lineNumber, provider-rank, and column\n        if (a.symbol.range.startLineNumber < b.symbol.range.startLineNumber) {\n            return -1;\n        }\n        else if (a.symbol.range.startLineNumber > b.symbol.range.startLineNumber) {\n            return 1;\n        }\n        else if ((providerRanks.get(a.provider)) < (providerRanks.get(b.provider))) {\n            return -1;\n        }\n        else if ((providerRanks.get(a.provider)) > (providerRanks.get(b.provider))) {\n            return 1;\n        }\n        else if (a.symbol.range.startColumn < b.symbol.range.startColumn) {\n            return -1;\n        }\n        else if (a.symbol.range.startColumn > b.symbol.range.startColumn) {\n            return 1;\n        }\n        else {\n            return 0;\n        }\n    });\n    return result;\n}\nCommandsRegistry.registerCommand('_executeCodeLensProvider', function (accessor, ...args) {\n    let [uri, itemResolveCount] = args;\n    assertType(URI.isUri(uri));\n    assertType(typeof itemResolveCount === 'number' || !itemResolveCount);\n    const { codeLensProvider } = accessor.get(ILanguageFeaturesService);\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        throw illegalArgument();\n    }\n    const result = [];\n    const disposables = new DisposableStore();\n    return getCodeLensModel(codeLensProvider, model, CancellationToken.None).then(value => {\n        disposables.add(value);\n        const resolve = [];\n        for (const item of value.lenses) {\n            if (itemResolveCount === undefined || itemResolveCount === null || Boolean(item.symbol.command)) {\n                result.push(item.symbol);\n            }\n            else if (itemResolveCount-- > 0 && item.provider.resolveCodeLens) {\n                resolve.push(Promise.resolve(item.provider.resolveCodeLens(model, item.symbol, CancellationToken.None)).then(symbol => result.push(symbol || item.symbol)));\n            }\n        }\n        return Promise.all(resolve);\n    }).then(() => {\n        return result;\n    }).finally(() => {\n        // make sure to return results, then (on next tick)\n        // dispose the results\n        setTimeout(() => disposables.dispose(), 100);\n    });\n});\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA,SAASA,iBAAiB,QAAQ,yCAAyC;AAC3E,SAASC,eAAe,EAAEC,yBAAyB,QAAQ,mCAAmC;AAC9F,SAASC,eAAe,QAAQ,sCAAsC;AACtE,SAASC,UAAU,QAAQ,kCAAkC;AAC7D,SAASC,GAAG,QAAQ,gCAAgC;AACpD,SAASC,aAAa,QAAQ,mCAAmC;AACjE,SAASC,gBAAgB,QAAQ,kDAAkD;AACnF,SAASC,wBAAwB,QAAQ,8CAA8C;AACvF,OAAO,MAAMC,aAAa,CAAC;EACvBC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACC,YAAY,GAAG,IAAIT,eAAe,CAAC,CAAC;EAC7C;EACAU,OAAOA,CAAA,EAAG;IACN,IAAI,CAACD,YAAY,CAACC,OAAO,CAAC,CAAC;EAC/B;EACA,IAAIC,UAAUA,CAAA,EAAG;IACb,OAAO,IAAI,CAACF,YAAY,CAACE,UAAU;EACvC;EACAC,GAAGA,CAACC,IAAI,EAAEC,QAAQ,EAAE;IAChB,IAAI,CAACL,YAAY,CAACG,GAAG,CAACC,IAAI,CAAC;IAC3B,KAAK,MAAME,MAAM,IAAIF,IAAI,CAACL,MAAM,EAAE;MAC9B,IAAI,CAACA,MAAM,CAACQ,IAAI,CAAC;QAAED,MAAM;QAAED;MAAS,CAAC,CAAC;IAC1C;EACJ;AACJ;AACA,gBAAsBG,gBAAgBA,CAAAC,EAAA,EAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,iBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AA0CrC,SAAAF,kBAAA;EAAAA,iBAAA,GAAAG,iBAAA,CA1CM,WAAgCC,QAAQ,EAAEC,KAAK,EAAEC,KAAK,EAAE;IAC3D,MAAMb,QAAQ,GAAGW,QAAQ,CAACG,OAAO,CAACF,KAAK,CAAC;IACxC,MAAMG,aAAa,GAAG,IAAIC,GAAG,CAAC,CAAC;IAC/B,MAAMC,MAAM,GAAG,IAAIzB,aAAa,CAAC,CAAC;IAClC,MAAM0B,QAAQ,GAAGlB,QAAQ,CAACmB,GAAG;MAAA,IAAAC,IAAA,GAAAV,iBAAA,CAAC,WAAOV,QAAQ,EAAEqB,CAAC,EAAK;QACjDN,aAAa,CAACO,GAAG,CAACtB,QAAQ,EAAEqB,CAAC,CAAC;QAC9B,IAAI;UACA,MAAMtB,IAAI,SAASwB,OAAO,CAACC,OAAO,CAACxB,QAAQ,CAACyB,iBAAiB,CAACb,KAAK,EAAEC,KAAK,CAAC,CAAC;UAC5E,IAAId,IAAI,EAAE;YACNkB,MAAM,CAACnB,GAAG,CAACC,IAAI,EAAEC,QAAQ,CAAC;UAC9B;QACJ,CAAC,CACD,OAAO0B,GAAG,EAAE;UACRzC,yBAAyB,CAACyC,GAAG,CAAC;QAClC;MACJ,CAAC;MAAA,iBAAAC,GAAA,EAAAC,GAAA;QAAA,OAAAR,IAAA,CAAAZ,KAAA,OAAAC,SAAA;MAAA;IAAA,IAAC;IACF,MAAMc,OAAO,CAACM,GAAG,CAACX,QAAQ,CAAC;IAC3BD,MAAM,CAACvB,MAAM,GAAGuB,MAAM,CAACvB,MAAM,CAACoC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;MACzC;MACA,IAAID,CAAC,CAAC9B,MAAM,CAACgC,KAAK,CAACC,eAAe,GAAGF,CAAC,CAAC/B,MAAM,CAACgC,KAAK,CAACC,eAAe,EAAE;QACjE,OAAO,CAAC,CAAC;MACb,CAAC,MACI,IAAIH,CAAC,CAAC9B,MAAM,CAACgC,KAAK,CAACC,eAAe,GAAGF,CAAC,CAAC/B,MAAM,CAACgC,KAAK,CAACC,eAAe,EAAE;QACtE,OAAO,CAAC;MACZ,CAAC,MACI,IAAKnB,aAAa,CAACoB,GAAG,CAACJ,CAAC,CAAC/B,QAAQ,CAAC,GAAKe,aAAa,CAACoB,GAAG,CAACH,CAAC,CAAChC,QAAQ,CAAE,EAAE;QACxE,OAAO,CAAC,CAAC;MACb,CAAC,MACI,IAAKe,aAAa,CAACoB,GAAG,CAACJ,CAAC,CAAC/B,QAAQ,CAAC,GAAKe,aAAa,CAACoB,GAAG,CAACH,CAAC,CAAChC,QAAQ,CAAE,EAAE;QACxE,OAAO,CAAC;MACZ,CAAC,MACI,IAAI+B,CAAC,CAAC9B,MAAM,CAACgC,KAAK,CAACG,WAAW,GAAGJ,CAAC,CAAC/B,MAAM,CAACgC,KAAK,CAACG,WAAW,EAAE;QAC9D,OAAO,CAAC,CAAC;MACb,CAAC,MACI,IAAIL,CAAC,CAAC9B,MAAM,CAACgC,KAAK,CAACG,WAAW,GAAGJ,CAAC,CAAC/B,MAAM,CAACgC,KAAK,CAACG,WAAW,EAAE;QAC9D,OAAO,CAAC;MACZ,CAAC,MACI;QACD,OAAO,CAAC;MACZ;IACJ,CAAC,CAAC;IACF,OAAOnB,MAAM;EACjB,CAAC;EAAA,OAAAV,iBAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AACDnB,gBAAgB,CAAC+C,eAAe,CAAC,0BAA0B,EAAE,UAAUC,QAAQ,EAAE,GAAGC,IAAI,EAAE;EACtF,IAAI,CAACC,GAAG,EAAEC,gBAAgB,CAAC,GAAGF,IAAI;EAClCpD,UAAU,CAACC,GAAG,CAACsD,KAAK,CAACF,GAAG,CAAC,CAAC;EAC1BrD,UAAU,CAAC,OAAOsD,gBAAgB,KAAK,QAAQ,IAAI,CAACA,gBAAgB,CAAC;EACrE,MAAM;IAAEE;EAAiB,CAAC,GAAGL,QAAQ,CAACH,GAAG,CAAC5C,wBAAwB,CAAC;EACnE,MAAMqB,KAAK,GAAG0B,QAAQ,CAACH,GAAG,CAAC9C,aAAa,CAAC,CAACuD,QAAQ,CAACJ,GAAG,CAAC;EACvD,IAAI,CAAC5B,KAAK,EAAE;IACR,MAAM5B,eAAe,CAAC,CAAC;EAC3B;EACA,MAAMiC,MAAM,GAAG,EAAE;EACjB,MAAM4B,WAAW,GAAG,IAAI3D,eAAe,CAAC,CAAC;EACzC,OAAOiB,gBAAgB,CAACwC,gBAAgB,EAAE/B,KAAK,EAAE7B,iBAAiB,CAAC+D,IAAI,CAAC,CAACC,IAAI,CAACC,KAAK,IAAI;IACnFH,WAAW,CAAC/C,GAAG,CAACkD,KAAK,CAAC;IACtB,MAAMxB,OAAO,GAAG,EAAE;IAClB,KAAK,MAAMyB,IAAI,IAAID,KAAK,CAACtD,MAAM,EAAE;MAC7B,IAAI+C,gBAAgB,KAAKS,SAAS,IAAIT,gBAAgB,KAAK,IAAI,IAAIU,OAAO,CAACF,IAAI,CAAChD,MAAM,CAACmD,OAAO,CAAC,EAAE;QAC7FnC,MAAM,CAACf,IAAI,CAAC+C,IAAI,CAAChD,MAAM,CAAC;MAC5B,CAAC,MACI,IAAIwC,gBAAgB,EAAE,GAAG,CAAC,IAAIQ,IAAI,CAACjD,QAAQ,CAACqD,eAAe,EAAE;QAC9D7B,OAAO,CAACtB,IAAI,CAACqB,OAAO,CAACC,OAAO,CAACyB,IAAI,CAACjD,QAAQ,CAACqD,eAAe,CAACzC,KAAK,EAAEqC,IAAI,CAAChD,MAAM,EAAElB,iBAAiB,CAAC+D,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC9C,MAAM,IAAIgB,MAAM,CAACf,IAAI,CAACD,MAAM,IAAIgD,IAAI,CAAChD,MAAM,CAAC,CAAC,CAAC;MAC/J;IACJ;IACA,OAAOsB,OAAO,CAACM,GAAG,CAACL,OAAO,CAAC;EAC/B,CAAC,CAAC,CAACuB,IAAI,CAAC,MAAM;IACV,OAAO9B,MAAM;EACjB,CAAC,CAAC,CAACqC,OAAO,CAAC,MAAM;IACb;IACA;IACAC,UAAU,CAAC,MAAMV,WAAW,CAACjD,OAAO,CAAC,CAAC,EAAE,GAAG,CAAC;EAChD,CAAC,CAAC;AACN,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}