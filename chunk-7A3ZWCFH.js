import{c,d as s,e as n}from"./chunk-2U376WBP.js";import{O as i,R as l}from"./chunk-EFSD2UP6.js";var r=n("auth"),f=s(r,e=>e.accessToken),a=s(r,e=>e.isLoggedIn),u=s(r,e=>e.privileges),m=s(r,e=>e.features),g=s(r,e=>e.role);var h=class e{constructor(o){this.store=o;this.store.select(a).subscribe(t=>{this.isLoggedIn=t}),this.store.select(u).subscribe(t=>{this.privileges=t}),this.store.select(m).subscribe(t=>{this.features=t}),this.store.select(g).subscribe(t=>{this.role=t,this.isAdmin=this.role==="Admin"||this.role==="admin"})}isLoggedIn=!1;privileges=[];features=[];role="user";isAdmin=!1;hasPrivilege(o){return this.privileges.includes(o)}canAccessAdminPanel(){return console.log(this.role!=null&&this.role!=="user"&&this.role!=null,"canAccessAdminPanel"),this.role!=null&&this.role!=="user"&&this.role!=null}static \u0275fac=function(t){return new(t||e)(l(c))};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};export{h as a};
